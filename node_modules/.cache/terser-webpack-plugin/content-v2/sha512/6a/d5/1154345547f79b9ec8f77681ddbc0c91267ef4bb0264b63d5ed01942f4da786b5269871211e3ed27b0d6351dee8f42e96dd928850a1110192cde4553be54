{"map":"{\"version\":3,\"sources\":[\"main.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"React\",\"JsonParser\",\"JsonParserError\",\"Error\",\"[object Object]\",\"message\",\"super\",\"setPrototypeOf\",\"this\",\"nameRequired\",\"__proto__\",\"constructor\",\"assertInt\",\"Number\",\"isInteger\",\"randomInt\",\"high\",\"low\",\"undefined\",\"Math\",\"floor\",\"random\",\"shuffle\",\"rollTwoDice\",\"square\",\"defined\",\"assert\",\"condition\",\"array\",\"temporaryValue\",\"randomIndex\",\"currentIndex\",\"length\",\"RelPoint\",\"AbsPoint\",\"HexPoint\",\"maxDistance\",\"centerOfScreen\",\"currLocation\",\"Hex_1\",\"util_1\",\"jsonParser_1\",\"Point\",\"x\",\"y\",\"window\",\"innerWidth\",\"Hex\",\"getSideLength\",\"innerHeight\",\"getApothem\",\"col\",\"row\",\"data\",\"requireName\",\"requireNumber\",\"hexGridToPxUnshifted\",\"hexGridToPx\",\"other\",\"abs\",\"pxUnshiftedToHexGrid\",\"pxUnshiftedToDualHexGrid\",\"toAbsPoint\",\"Point_1\",\"sectionLength\",\"apothem\",\"round\",\"colR\",\"ceil\",\"colL\",\"pR\",\"pL\",\"rowErr\",\"p1\",\"p2\",\"isNeighbor\",\"rowTop\",\"rowBottom\",\"toRelPoint\",\"ctx\",\"beginPath\",\"moveTo\",\"lineTo\",\"fill\",\"stroke\",\"sqrt\",\"ReactDOM\",\"ui_1\",\"render\",\"createElement\",\"UI\",\"document\",\"getElementById\",\"login_1\",\"spinner_1\",\"connection_1\",\"game_1\",\"Component\",\"props\",\"state\",\"progressState\",\"failedConn\",\"host\",\"port\",\"conn\",\"loginSubmitCallback\",\"setState\",\"Connection\",\"onWebSockFailure\",\"onWebSockOpen\",\"ev\",\"LoginForm\",\"callback\",\"id\",\"src\",\"alt\",\"className\",\"style\",\"width\",\"margin\",\"paddingBottom\",\"color\",\"Spinner\",\"shown\",\"Game\",\"handleChange\",\"handleSubmit\",\"event\",\"currentTarget\",\"parseInt\",\"toString\",\"console\",\"log\",\"preventDefault\",\"onSubmit\",\"required\",\"type\",\"placeholder\",\"onChange\",\"opacity\",\"encodeURIComponent\",\"connectedOnce\",\"failedAttempts\",\"connect\",\"token\",\"ws\",\"WebSocket\",\"getUrl\",\"onerror\",\"onclose\",\"onmessage\",\"onopen\",\"setTimeout\",\"obj\",\"JSON\",\"parse\",\"requireString\",\"jsonMessageHandler\",\"e\",\"send\",\"f\",\"msg\",\"stringify\",\"canvas_1\",\"GameMap_1\",\"statusBar_1\",\"Player_1\",\"setJsonMessageHandler\",\"onMessage\",\"gm\",\"GameMap\",\"gameStarted\",\"currNotification\",\"playerList\",\"askName\",\"gameMapJson\",\"requireObject\",\"gameMap\",\"fromJson\",\"requireBool\",\"players\",\"requireArray\",\"Player\",\"doesPlayerExists\",\"push\",\"getName\",\"askType\",\"StatusBar\",\"Canvas\",\"canvasRef\",\"createRef\",\"canvas\",\"current\",\"makeHiDPICanvas\",\"componentDidUpdate\",\"getContext\",\"fillStyle\",\"fillRect\",\"draw\",\"arc\",\"clientX\",\"clientY\",\"ref\",\"height\",\"onClick\",\"w\",\"h\",\"tmp\",\"ratio\",\"devicePixelRatio\",\"setTransform\",\"Tile_1\",\"tilesArr\",\"settlementsArr\",\"roadsArr\",\"Tile\",\"strokeStyle\",\"lineWidth\",\"forEach\",\"Biome_1\",\"location\",\"landType\",\"diceValue\",\"active\",\"isDisabledByRobber\",\"center\",\"getCenterOfHex\",\"biome\",\"getBiomeByName\",\"strokeHex\",\"getColor\",\"fillHex\",\"relCenter\",\"Desert\",\"font\",\"textAlign\",\"textBaseline\",\"fillText\",\"strokeRobber\",\"highlightIfActive\",\"apo\",\"xStep\",\"closePath\",\"pos\",\"q2x\",\"q2y\",\"vert\",\"hori\",\"biomes\",\"Quarry\",\"Farmland\",\"Mountain\",\"Forest\",\"Grassland\",\"Biome\",\"PlayerList\",\"playerDict\"],\"mappings\":\"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\"}","code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=5)}([function(e,t){e.exports=React},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JsonParser=t.JsonParserError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}t.JsonParserError=r;t.JsonParser=class{static askName(e){if(!(\"__name__\"in e))return\"\";const t=e.__name__;if(\"string\"!=typeof t)throw new r(\"Json field '__name__' is of the wrong type: got '\"+typeof t+\"' but expected 'string'\");return t}static askType(e){if(!(\"type\"in e))return\"\";const t=e.type;if(\"string\"!=typeof t)throw new r(\"Json field 'type' is of the wrong type: got '\"+typeof t+\"' but expected 'string'\");return t}static requireName(e,t){if(!(\"__name__\"in e))throw new r(\"Missing json field: '\"+name+\"'\");const n=e.__name__;if(\"string\"!=typeof n)throw new r(\"Json field '__name__' is of the wrong type: got '\"+typeof n+\"' but expected 'string'\");if(n!=t)throw new r(\"Json has incorrect object name, got '\"+n+\"' but expected '\"+t+\"'\")}static requireNumber(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"number\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'number'\");return n}static requireString(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"string\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'string'\");return n}static requireObject(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"object\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'object'\");return n}static requireArray(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"object\"!=typeof n||\"Array\"!=n.__proto__.constructor.name)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'Array'\");return n}static requireBool(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"boolean\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'boolean'\");return n}}},function(e,t,n){\"use strict\";function r(e){if(!Number.isInteger(e))throw\"TypeError: expected int\"}function o(e,t){return null==t&&(t=0),r(e),r(t),Math.floor(Math.random()*(e-t)+t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.shuffle=t.rollTwoDice=t.randomInt=t.assertInt=t.square=t.defined=t.assert=void 0,t.assert=function(e,t){if(!e)throw t||\"Assertion failed\"},t.defined=function(e){if(null==e)throw\"Variable undefined\"},t.square=function(e){return e*e},t.assertInt=r,t.randomInt=o,t.rollTwoDice=function(){return o(7,1)+o(7,1)},t.shuffle=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RelPoint=t.AbsPoint=t.HexPoint=t.maxDistance=t.centerOfScreen=t.currLocation=void 0;const r=n(4),o=n(2),s=n(1);class i{constructor(e,t){this.x=e,this.y=t}}t.currLocation=new i(window.innerWidth/2-4*r.Hex.getSideLength(),window.innerHeight/2-3*r.Hex.getApothem()),t.centerOfScreen=new i(window.innerWidth/2-4*r.Hex.getSideLength(),window.innerHeight/2-3*r.Hex.getApothem()),t.maxDistance=4*r.Hex.getSideLength()*1.5;class a extends i{constructor(e,t){o.assertInt(e),o.assertInt(t),super(e,t)}static fromJson(e){s.JsonParser.requireName(e,\"HexPoint\");const t=s.JsonParser.requireNumber(e,\"row\"),n=s.JsonParser.requireNumber(e,\"col\");return new a(n,t)}toAbsPoint(){return r.Hex.hexGridToPxUnshifted(this.y,this.x)}toRelPoint(){return r.Hex.hexGridToPx(this.y,this.x)}isNeighbor(e){if(e.x==this.x&&e.y==this.y+1)return!0;if(e.x==this.x&&e.y==this.y-1)return!0;if(Math.abs(this.x%2)==Math.abs(this.y%2)){if(e.x==this.x+1&&e.y==this.y)return!0}else if(e.x==this.x-1&&e.y==this.y)return!0;return!1}isEqual(e){return e.x==this.x&&e.y==this.y}}t.HexPoint=a;class c extends i{constructor(e,t){super(e,t)}toRelPoint(){return new l(this.x+t.currLocation.x,this.y+t.currLocation.y)}toAbsPoint(){return new c(this.x,this.y)}toHexPoint(){return r.Hex.pxUnshiftedToHexGrid(this.x,this.y)}toDualHexPoint(){return r.Hex.pxUnshiftedToDualHexGrid(this.x,this.y)}}t.AbsPoint=c;class l extends i{constructor(e,t){super(e,t)}toRelPoint(){return new l(this.x,this.y)}toAbsPoint(){return new c(this.x-t.currLocation.x,this.y-t.currLocation.y)}toHexPoint(){const e=this.toAbsPoint();return r.Hex.pxUnshiftedToHexGrid(e.x,e.y)}toDualHexPoint(){const e=this.toAbsPoint();return r.Hex.pxUnshiftedToDualHexGrid(e.x,e.y)}}t.RelPoint=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Hex=void 0;const r=n(3);class o{constructor(){}static getSideLength(){return o.sectionLength}static getApothem(){return o.apothem}static pxUnshiftedToHexGrid(e,t){const n=Math.round(t/o.apothem),s=e/(1.5*o.sectionLength),i=Math.ceil(s),a=Math.floor(s),c=o.hexGridToPxUnshifted(n,i).x,l=o.hexGridToPxUnshifted(n,a).x;return Math.abs(e-c)<Math.abs(e-l)?new r.HexPoint(i,n):new r.HexPoint(a,n)}static pxUnshiftedToDualHexGrid(e,t){const n=Math.round(t/o.apothem),s=e/(1.5*o.sectionLength),i=Math.ceil(s),a=Math.floor(s),c=Math.abs(t/o.apothem%1);if(c<.15||c>.85){const e=new r.HexPoint(a,n),t=new r.HexPoint(i,n);return e.isNeighbor(t)?[e,t]:[]}if(s%1>0&&s%1<1/3){const n=Math.floor(t/o.apothem),s=Math.ceil(t/o.apothem);let i=o.pxUnshiftedToHexGrid(e,t).x;const a=new r.HexPoint(i,n),c=new r.HexPoint(i,s);return a.isNeighbor(c)?[a,c]:[]}return[]}static hexGridToPxUnshifted(e,t){let n=t*o.sectionLength*1.5;Math.abs(e%2)==Math.abs(t%2)&&(n+=.5*o.sectionLength);const s=o.apothem*e;return new r.AbsPoint(n,s)}static hexGridToPx(e,t){return o.hexGridToPxUnshifted(e,t).toRelPoint()}static getCenterOfHex(e,t){const n=o.hexGridToPxUnshifted(e,t);return n.x+=o.sectionLength/2,n.y+=o.apothem,n}static getHexCorners(e,t){return[new r.HexPoint(t,e),new r.HexPoint(t+1,e),new r.HexPoint(t+1,e+1),new r.HexPoint(t+1,e+2),new r.HexPoint(t,e+2),new r.HexPoint(t,e+1)]}static fillHex(e,t,n){let r=o.hexGridToPx(e,t);n.beginPath(),n.moveTo(r.x,r.y),r=o.hexGridToPx(e,t+1),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+1,t+1),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+2,t+1),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+2,t),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+1,t),n.lineTo(r.x,r.y),r=o.hexGridToPx(e,t),n.lineTo(r.x,r.y),n.fill()}static strokeHex(e,t,n){let r=o.hexGridToPx(e,t);n.beginPath(),n.moveTo(r.x,r.y),r=o.hexGridToPx(e,t+1),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+1,t+1),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+2,t+1),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+2,t),n.lineTo(r.x,r.y),r=o.hexGridToPx(e+1,t),n.lineTo(r.x,r.y),r=o.hexGridToPx(e,t),n.lineTo(r.x,r.y),n.stroke()}}t.Hex=o,o.sectionLength=50,o.apothem=o.sectionLength*Math.sqrt(3)/2},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(0),o=n(6),s=n(7);o.render(r.createElement(s.UI,null),document.getElementById(\"root\"))},function(e,t){e.exports=ReactDOM},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.UI=void 0;const r=n(0),o=n(8),s=n(9),i=n(10),a=n(11);class c extends r.Component{constructor(e){super(e),this.state={progressState:0,failedConn:!1,name:null,host:null,port:null,conn:null},this.loginSubmitCallback=this.loginSubmitCallback.bind(this)}loginSubmitCallback(e,t,n){this.setState({name:e,host:t,port:n,progressState:1,failedConn:!1,conn:new i.Connection(t,n,e,this.onWebSockFailure.bind(this),this.onWebSockOpen.bind(this))})}onWebSockFailure(e){this.setState({progressState:0,failedConn:!0})}onWebSockOpen(e){this.setState({progressState:2,failedConn:!1})}render(){return 0==this.state.progressState?this.state.failedConn?r.createElement(\"div\",null,r.createElement(o.LoginForm,{callback:this.loginSubmitCallback}),r.createElement(\"img\",{id:\"whoopsie\",src:\"whoopsie-01.png\",alt:\"whoopsie\"})):r.createElement(\"div\",null,r.createElement(o.LoginForm,{callback:this.loginSubmitCallback})):1==this.state.progressState?r.createElement(\"div\",{className:\"window center\",style:{width:\"6em\"}},r.createElement(\"p\",{style:{margin:\"auto\",paddingBottom:\"0.5em\",color:\"white\"}},\"Connecting...\"),r.createElement(s.Spinner,{shown:!0})):2==this.state.progressState?r.createElement(a.Game,{conn:this.state.conn}):r.createElement(\"p\",null,\"Hi, \",this.state.name)}}t.UI=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.LoginForm=void 0;const r=n(0);class o extends r.Component{constructor(e){super(e),this.state={name:\"\",host:\"\",port:\"\",callback:e.callback},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleChange(e){\"name\"==e.currentTarget.name?this.setState({name:e.currentTarget.value}):\"host\"==e.currentTarget.name?this.setState({host:e.currentTarget.value}):\"port\"==e.currentTarget.name&&this.setState({port:e.currentTarget.value})}handleSubmit(e){const t=parseInt(this.state.port);\"\"!=this.state.name&&\"\"!=this.state.host&&\"NaN\"!=t.toString()&&t>0&&(console.log(\"yeet\",this.state),this.state.callback(this.state.name,this.state.host,t)),e.preventDefault()}render(){return r.createElement(\"form\",{id:\"loginForm\",className:\"center window\",onSubmit:this.handleSubmit},r.createElement(\"input\",{required:!0,name:\"name\",type:\"text\",placeholder:\"Name\",value:this.state.name,onChange:this.handleChange}),r.createElement(\"input\",{required:!0,name:\"host\",type:\"text\",placeholder:\"Hostname\",value:this.state.host,onChange:this.handleChange}),r.createElement(\"input\",{required:!0,name:\"port\",type:\"number\",placeholder:\"Port\",value:this.state.port,onChange:this.handleChange}),r.createElement(\"button\",null,\"Join Game\"))}}t.LoginForm=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Spinner=void 0;const r=n(0);t.Spinner=function(e){return e.shown?r.createElement(\"div\",{className:\"loader\"}):r.createElement(\"div\",{className:\"loader\",style:{opacity:0}})}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Connection=void 0;const r=n(1);t.Connection=class{constructor(e,t,n,r,o){if(this.host=encodeURIComponent(e),this.name=encodeURIComponent(n),\"NaN\"==t.toString())throw Error(\"yeet the port\");this.port=t,this.onWebSockFailure=r,this.onWebSockOpen=o,this.connectedOnce=!1,this.failedAttempts=0,this.connect()}getUrl(){return null!=this.token?`ws://${this.host}:${this.port}/${this.name}/${this.token}`:`ws://${this.host}:${this.port}/${this.name}`}connect(){this.ws=new WebSocket(this.getUrl()),this.ws.onerror=this.onerror.bind(this),this.ws.onclose=this.onclose.bind(this),this.ws.onmessage=this.onmessage.bind(this),this.ws.onopen=this.onopen.bind(this)}onclose(e){if(console.log(\"WS closed\",e),this.connectedOnce){if(this.failedAttempts>5)return;setTimeout((function(){this.connect()}),3e3)}}onerror(e){console.log(\"WS errored\",e),this.failedAttempts+=1,this.connectedOnce||this.onWebSockFailure(e)}onmessage(e){if(\"Hello\"==e.data)console.log(\"Successful Echo, Server is alive!\");else try{const t=JSON.parse(e.data);if(console.log(\"got msg:\",t),\"token\"in t){const e=r.JsonParser.requireString(t,\"token\");return void(this.token||(console.log(\"Got token\",e),this.token=e))}this.jsonMessageHandler(t)}catch(e){\"SyntaxError\"==e.name?console.log(\"Got invalid JSON\"):(console.log(\"Error:\",e),console.log(\"Error data:\",e.data))}}onopen(e){console.log(\"WS opened\",e),this.failedAttempts=0,this.onWebSockOpen(e),this.connectedOnce=!0,this.ws.send(\"Hi\"),this.ws.send(\"history\")}setJsonMessageHandler(e){this.jsonMessageHandler=e}send(e){const t=JSON.stringify(e);this.ws?this.ws.send(t):console.log(\"Disconnected\")}getHistory(){this.ws?this.ws.send(\"history\"):console.log(\"Disconnected\")}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Game=void 0;const r=n(0),o=n(12),s=n(13),i=n(1),a=n(16),c=n(17);class l extends r.Component{constructor(e){super(e),e.conn.setJsonMessageHandler(this.onMessage.bind(this)),this.state={gm:new s.GameMap([],[],[]),gameStarted:!1,currNotification:null,playerList:[]}}onMessage(e){if(\"Game\"==i.JsonParser.askName(e)){const t=i.JsonParser.requireObject(e,\"gameMap\"),n=s.GameMap.fromJson(t),r=i.JsonParser.requireBool(e,\"gameStarted\"),o=this.state.playerList,a=i.JsonParser.requireArray(e,\"players\");for(const e of a)if(!c.Player.doesPlayerExists(e)){const t=c.Player.fromJson(e);o.push(t.getName())}this.setState({gm:n,gameStarted:r,playerList:o})}if(\"notification\"==i.JsonParser.askType(e)){const t=i.JsonParser.requireString(e,\"content\");this.setState({currNotification:t}),setTimeout(()=>{this.state.currNotification==t&&this.setState({currNotification:null})},1e4)}}render(){let e=null==this.state.currNotification?\"Game hasn't started yet\":this.state.currNotification;return r.createElement(\"div\",null,r.createElement(a.StatusBar,{msg:e}),r.createElement(o.Canvas,{gm:this.state.gm}))}}t.Game=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Canvas=void 0;const r=n(0);class o extends r.Component{constructor(e){super(e),this.canvasRef=r.createRef(),this.state={x:0,y:0}}componentDidMount(){const e=this.canvasRef.current;this.makeHiDPICanvas(e),this.componentDidUpdate()}componentDidUpdate(){console.log(\"update\");const e=this.canvasRef.current.getContext(\"2d\");e.fillStyle=\"#8395c1\",e.fillRect(0,0,window.innerWidth,window.innerHeight),this.props.gm.draw(e),e.beginPath(),e.arc(this.state.x,this.state.y,10,0,6.28),e.fill()}onClick(e){this.setState({x:e.clientX,y:e.clientY}),console.log(e.clientX,e.clientY)}render(){return r.createElement(\"canvas\",{ref:this.canvasRef,width:window.innerWidth,height:window.innerHeight,onClick:this.onClick.bind(this)})}makeHiDPICanvas(e){const t=window.innerWidth,n=window.innerHeight,r=function(){const t=e.getContext(\"2d\");if(null==t)throw\"CanvasRenderingContext2D is null\";return t}(),o=window.devicePixelRatio||1;return e.width=t*o,e.height=n*o,e.style.width=t+\"px\",e.style.height=n+\"px\",r.setTransform(o,0,0,o,0,0),e}}t.Canvas=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.GameMap=void 0;const r=n(14),o=n(1);class s{constructor(e,t,n){this.tilesArr=e,this.settlementsArr=t,this.roadsArr=n}static fromJson(e){o.JsonParser.requireName(e,\"GameMap\");let t=o.JsonParser.requireArray(e,\"tiles\");const n=[];for(const e of t)n.push(r.Tile.fromJson(e));return new s(n,[],[])}getTiles(){return this.tilesArr}getSettlements(){return this.settlementsArr}getRoads(){return this.roadsArr}draw(e){e.strokeStyle=\"black\",e.lineWidth=1,this.tilesArr.forEach(t=>{t.draw(e)}),this.roadsArr.forEach(t=>{t.draw(e)}),this.settlementsArr.forEach(t=>{t.draw(e)})}}t.GameMap=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Tile=void 0;const r=n(15),o=n(2),s=n(3),i=n(4),a=n(1);class c{constructor(e,t,n){this.active=!1,this.isDisabledByRobber=!1,this.diceValue=n,this.landType=t,this.p=e,this.center=i.Hex.getCenterOfHex(e.y,e.x),o.defined(this.diceValue),o.defined(this.landType),o.defined(this.p),o.defined(this.center)}static fromJson(e){a.JsonParser.requireName(e,\"Tile\");const t=a.JsonParser.requireNumber(e,\"diceValue\"),n=s.HexPoint.fromJson(a.JsonParser.requireObject(e,\"location\")),o=r.getBiomeByName(a.JsonParser.requireString(e,\"biome\"));return new c(n,o,t)}highlightIfActive(e){this.active&&!this.isDisabledByRobber&&(e.strokeStyle=\"white\",e.lineWidth=4,i.Hex.strokeHex(this.p.y,this.p.x,e))}draw(e){e.fillStyle=this.landType.getColor(),i.Hex.fillHex(this.p.y,this.p.x,e);const t=this.center.toRelPoint();this.landType!=r.Desert&&(e.font=\"20px Arial\",e.textAlign=\"center\",e.textBaseline=\"middle\",e.fillStyle=\"black\",e.fillText(this.diceValue.toString(),t.x,t.y)),e.strokeStyle=\"black\",e.lineWidth=1,i.Hex.strokeHex(this.p.y,this.p.x,e),this.isDisabledByRobber&&this.strokeRobber(e),this.highlightIfActive(e)}strokeRobber(e){const t=this.center.toRelPoint(),n=i.Hex.getSideLength()/3.5+2,r=.5773502691896257*n;e.strokeStyle=\"red\",e.lineWidth=5,e.beginPath(),e.moveTo(t.x+r,t.y-n),e.lineTo(t.x+2*r,t.y),e.lineTo(t.x+r,t.y+n),e.lineTo(t.x-r,t.y+n),e.lineTo(t.x-2*r,t.y),e.lineTo(t.x-r,t.y-n),e.closePath(),e.stroke()}isInside(e){const t=Math.abs(e.x-this.center.x),n=Math.abs(e.y-this.center.y),r=i.Hex.getApothem(),o=i.Hex.getSideLength()/2;return!(t>2*o||n>r)&&2*r*o-r*t-2*o*n>=0}}t.Tile=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getBiomeByName=t.biomes=t.Quarry=t.Farmland=t.Mountain=t.Forest=t.Grassland=t.Desert=t.Biome=void 0;const r=n(2);class o{constructor(e){this.color=e}getColor(){return r.defined(this.color),this.color}}t.Biome=o,t.Desert=new class extends o{constructor(){super(\"yellow\")}},t.Grassland=new class extends o{constructor(){super(\"limegreen\")}},t.Forest=new class extends o{constructor(){super(\"forestgreen\")}},t.Mountain=new class extends o{constructor(){super(\"dimgray\")}},t.Farmland=new class extends o{constructor(){super(\"goldenrod\")}},t.Quarry=new class extends o{constructor(){super(\"firebrick\")}},t.biomes=[t.Desert,t.Grassland,t.Forest,t.Mountain,t.Farmland,t.Quarry],t.getBiomeByName=function(e){switch(e){case\"desert\":return t.Desert;case\"grassland\":return t.Grassland;case\"forest\":return t.Forest;case\"mountain\":return t.Mountain;case\"farmland\":return t.Farmland;case\"quarry\":return t.Quarry;default:throw new Error(\"KeyError: Could not find biome named '\"+e+\"'\")}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PlayerList=t.StatusBar=void 0;const r=n(0);t.StatusBar=function(e){return r.createElement(\"div\",{className:\"window statusBar\",style:{textAlign:\"center\"}},this.props.msg)},t.PlayerList=function(e){return r.createElement(\"div\",null)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Player=void 0;const r=n(2),o=n(1);class s{constructor(e,t,n){this.color=e,this.name=t,this.token=n,r.defined(e),r.defined(t),r.defined(n),s.playerDict[n]=this}static doesPlayerExists(e){o.JsonParser.requireName(e,\"Player\");return o.JsonParser.requireString(e,\"token\")in s.playerDict}static fromJson(e){o.JsonParser.requireName(e,\"Player\");const t=o.JsonParser.requireString(e,\"token\");return t in s.playerDict?s.playerDict[t]:new s(o.JsonParser.requireString(e,\"color\"),o.JsonParser.requireString(e,\"name\"),t)}static getPlayerDict(){return s.playerDict}getColor(){return this.color}getName(){return this.name}getToken(){return this.token}draw(){}debug(){console.log(this)}}t.Player=s,s.playerDict={}}]);","extractedComments":[]}