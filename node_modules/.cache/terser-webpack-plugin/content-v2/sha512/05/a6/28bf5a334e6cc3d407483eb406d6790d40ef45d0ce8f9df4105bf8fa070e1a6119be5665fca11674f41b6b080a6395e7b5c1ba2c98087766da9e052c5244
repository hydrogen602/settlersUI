{"map":"{\"version\":3,\"sources\":[\"main.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"JsonParser\",\"JsonParserError\",\"JsonMessage\",\"type\",\"content\",\"args\",\"length\",\"Error\",\"[object Object]\",\"message\",\"super\",\"setPrototypeOf\",\"this\",\"nameRequired\",\"__proto__\",\"constructor\",\"React\",\"shuffle\",\"rollTwoDice\",\"randomInt\",\"assertInt\",\"square\",\"defined\",\"assert\",\"AssertionError\",\"Number\",\"isInteger\",\"high\",\"low\",\"undefined\",\"Math\",\"floor\",\"random\",\"condition\",\"array\",\"temporaryValue\",\"randomIndex\",\"currentIndex\",\"RelPoint\",\"AbsPoint\",\"HexPoint\",\"maxDistance\",\"centerOfScreen\",\"currLocation\",\"Hex\",\"util_1\",\"jsonParser_1\",\"Point\",\"x\",\"y\",\"sectionLength\",\"apothem\",\"row\",\"round\",\"col\",\"colR\",\"ceil\",\"colL\",\"pR\",\"hexGridToPxUnshifted\",\"pL\",\"abs\",\"rowErr\",\"p1\",\"p2\",\"isNeighbor\",\"rowTop\",\"rowBottom\",\"pxUnshiftedToHexGrid\",\"toRelPoint\",\"ctx\",\"hexGridToPx\",\"beginPath\",\"moveTo\",\"lineTo\",\"fill\",\"stroke\",\"toAbsPoint\",\"backConvertedHex\",\"toHexPoint\",\"sqrt\",\"window\",\"innerWidth\",\"getSideLength\",\"innerHeight\",\"getApothem\",\"data\",\"requireName\",\"requireNumber\",\"__name__\",\"other\",\"pxUnshiftedToDualHexGrid\",\"Player\",\"color\",\"token\",\"playerDict\",\"requireString\",\"returnNullOnMissingPlayer\",\"console\",\"log\",\"Settlement\",\"Point_1\",\"Player_1\",\"location\",\"owner\",\"_isCity\",\"h\",\"isEqual\",\"strokeStyle\",\"lineWidth\",\"fillStyle\",\"getColor\",\"relLoc\",\"apo\",\"xStep\",\"closePath\",\"arc\",\"PI\",\"loc\",\"tan\",\"askName\",\"fromJson\",\"requireObject\",\"tmp\",\"position\",\"error\",\"Road\",\"tmp1\",\"tmp2\",\"point1\",\"point2\",\"ReactDOM\",\"ui_1\",\"render\",\"createElement\",\"UI\",\"document\",\"getElementById\",\"login_1\",\"spinner_1\",\"connection_1\",\"game_1\",\"Component\",\"props\",\"maybe\",\"Connection\",\"regainOldConnectionIfExists\",\"onWebSockFailure\",\"onWebSockOpen\",\"state\",\"progressState\",\"failedConn\",\"dat\",\"conn\",\"loginSubmitCallback\",\"setState\",\"ev\",\"LoginForm\",\"callback\",\"id\",\"src\",\"alt\",\"className\",\"style\",\"width\",\"margin\",\"paddingBottom\",\"Spinner\",\"shown\",\"Game\",\"colorBox_1\",\"host\",\"port\",\"pickingColor\",\"handleChange\",\"handleSubmit\",\"event\",\"currentTarget\",\"parseInt\",\"toString\",\"preventDefault\",\"onSubmit\",\"required\",\"placeholder\",\"onChange\",\"readOnly\",\"onFocus\",\"ColorBox\",\"onClick\",\"onColorClick\",\"colors\",\"Map\",\"items\",\"familyName\",\"familyColors\",\"entries\",\"len\",\"push\",\"display\",\"map\",\"index\",\"backgroundColor\",\"opacity\",\"dataTypes_1\",\"encodeURIComponent\",\"connectedOnce\",\"failedAttempts\",\"verifiedConnection\",\"jsonMessageHandler\",\"a\",\"ws\",\"connect\",\"result\",\"sessionStorage\",\"getItem\",\"connectionDataFromJson\",\"JSON\",\"parse\",\"WebSocket\",\"getUrl\",\"onerror\",\"onclose\",\"onmessage\",\"onopen\",\"code\",\"reason\",\"setTimeout\",\"obj\",\"setItem\",\"stringify\",\"e\",\"send\",\"f\",\"msg\",\"canvas_1\",\"GameMap_1\",\"statusBar_1\",\"Turn_1\",\"popup_1\",\"Inventory_1\",\"inventoryDisplay_1\",\"setJsonMessageHandler\",\"onMessage\",\"gm\",\"GameMap\",\"gameStarted\",\"currNotification\",\"currError\",\"playerList\",\"currentTurn\",\"inventory\",\"selectedLinePurchased\",\"selectedPointPurchased\",\"sendMessage\",\"gameMapJson\",\"gameMap\",\"requireBool\",\"players\",\"requireArray\",\"doesPlayerExists\",\"getName\",\"turn\",\"Turn\",\"currentPlayer\",\"dieValue\",\"dieRolled\",\"Inventory\",\"askType\",\"errMsg\",\"clientX\",\"clientY\",\"distanceFromNearestHexCorner\",\"toJsonSerializable\",\"hArr\",\"toDualHexPoint\",\"b\",\"defaultMsg\",\"Popup\",\"callBack\",\"StatusBar\",\"debug\",\"InventoryDisplay\",\"inv\",\"onClickPurchasedLine\",\"onClickPurchasedPoint\",\"PlayerList\",\"names\",\"Canvas\",\"mouseHandler\",\"mayPlaceRoad\",\"mayPlaceSettlement\",\"Settlement_1\",\"Road_1\",\"canvasRef\",\"createRef\",\"highlightFunc\",\"canvas\",\"current\",\"makeHiDPICanvas\",\"componentDidUpdate\",\"getContext\",\"fillRect\",\"draw\",\"ref\",\"height\",\"onMouseMove\",\"mouseHoverHandler\",\"w\",\"ratio\",\"devicePixelRatio\",\"setTransform\",\"back\",\"Tile_1\",\"tilesArr\",\"settlementsArr\",\"roadsArr\",\"Tile\",\"forEach\",\"draw2\",\"tile\",\"activateIfDiceValueMatchesElseDeactivate\",\"Biome_1\",\"landType\",\"diceValue\",\"active\",\"isDisabledByRobber\",\"center\",\"getCenterOfHex\",\"biome\",\"getBiomeByName\",\"strokeHex\",\"fillHex\",\"relCenter\",\"Desert\",\"font\",\"textAlign\",\"textBaseline\",\"fillText\",\"strokeRobber\",\"highlightIfActive\",\"pos\",\"q2x\",\"q2y\",\"vert\",\"hori\",\"biomes\",\"Quarry\",\"Farmland\",\"Mountain\",\"Forest\",\"Grassland\",\"Biome\",\"children\",\"roundNum\",\"playerTag\",\"player\",\"dieVal\",\"requireAny\",\"pointFeatures\",\"lineFeatures\",\"keys\",\"k\",\"slice\",\"invData\",\"resourceName\",\"count\",\"set\",\"settlementArr\",\"it\",\"roadArr\",\"anyPurchased\",\"getLineFeatures\",\"getPointFeatures\",\"join\",\"flexWrap\",\"marginBottom\",\"isCity\"],\"mappings\":\"CAAS,SAAUA,GAET,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAJ,EAAQG,GAAUK,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBO,EAAIT,EAGxBE,EAAoBQ,EAAIT,EAGxBC,EAAoBS,EAAI,SAASP,EAASQ,EAAMC,GAC3CX,EAAoBY,EAAEV,EAASQ,IAClCG,OAAOC,eAAeZ,EAASQ,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEX,EAAoBiB,EAAI,SAASf,GACX,oBAAXgB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeZ,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,KAQvDpB,EAAoBqB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQpB,EAAoBoB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAzB,EAAoBiB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOpB,EAAoBS,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRxB,EAAoB4B,EAAI,SAASzB,GAChC,IAAIQ,EAASR,GAAUA,EAAOoB,WAC7B,WAAwB,OAAOpB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG9B,EAAoBiC,EAAI,GAIjBjC,EAAoBA,EAAoBkC,EAAI,GAnFpD,CAsFC,CAEJ,SAAU/B,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQiC,WAAajC,EAAQkC,gBAAkBlC,EAAQmC,iBAAc,EASrEnC,EAAQmC,YARR,SAAqBC,EAAMC,EAASC,GAChC,OAAIA,EAAKC,OAAS,EACP,CAAEH,KAAQA,EAAMC,QAAWA,EAASC,KAAQA,GAG5C,CAAEF,KAAQA,EAAMC,QAAWA,IAI1C,MAAMH,UAAwBM,MAE1BC,YAAYC,GACRC,MAAMD,GACN/B,OAAOiC,eAAeC,gBAAiBhB,YAG/C7B,EAAQkC,gBAAkBA,EAkG1BlC,EAAQiC,WAjGR,MAOIQ,eAAe/B,GACX,KAAM,aAAcA,GAEhB,MAAO,GAEX,MAAMQ,EAAQR,EAAY,SAC1B,GAAsB,iBAAX,EACP,MAAM,IAAIwB,EAAgB,2DAA6D,EAAU,2BAErG,OAAOhB,EAEXuB,eAAe/B,GACX,KAAM,SAAUA,GACZ,MAAO,GAEX,MAAMQ,EAAQR,EAAQ,KACtB,GAAsB,iBAAX,EACP,MAAM,IAAIwB,EAAgB,uDAAyD,EAAU,2BAEjG,OAAOhB,EAEXuB,kBAAkB/B,EAAGF,GACjB,KAAMA,KAAQE,GACV,MAAM,IAAIwB,EAAgB,wBAA0B1B,EAAO,KAE/D,OAAOE,EAAEF,GAEbiC,mBAAmB/B,EAAGoC,GAClB,KAAM,aAAcpC,GAChB,MAAM,IAAIwB,EAAgB,wBAA0B1B,KAAO,KAE/D,MAAMU,EAAQR,EAAY,SAC1B,GAAsB,iBAAX,EACP,MAAM,IAAIwB,EAAgB,2DAA6D,EAAU,2BAErG,GAAIhB,GAAS4B,EACT,MAAM,IAAIZ,EAAgB,wCAA0ChB,EAAQ,mBAAqB4B,EAAe,KAGxHL,qBAAqB/B,EAAGF,GACpB,KAAMA,KAAQE,GACV,MAAM,IAAIwB,EAAgB,wBAA0B1B,EAAO,KAE/D,MAAMU,EAAQR,EAAEF,GAChB,GAAsB,iBAAX,EACP,MAAM,IAAI0B,EAAgB,eAAiB1B,EAAO,uCAAyC,EAAU,2BAEzG,OAAOU,EAEXuB,qBAAqB/B,EAAGF,GACpB,KAAMA,KAAQE,GACV,MAAM,IAAIwB,EAAgB,wBAA0B1B,EAAO,KAE/D,MAAMU,EAAQR,EAAEF,GAChB,GAAsB,iBAAX,EACP,MAAM,IAAI0B,EAAgB,eAAiB1B,EAAO,uCAAyC,EAAU,2BAEzG,OAAOU,EAEXuB,qBAAqB/B,EAAGF,GACpB,KAAMA,KAAQE,GACV,MAAM,IAAIwB,EAAgB,wBAA0B1B,EAAO,KAE/D,MAAMU,EAAQR,EAAEF,GAChB,GAAsB,iBAAX,EACP,MAAM,IAAI0B,EAAgB,eAAiB1B,EAAO,uCAAyC,EAAU,2BAEzG,OAAOU,EAEXuB,oBAAoB/B,EAAGF,GACnB,KAAMA,KAAQE,GACV,MAAM,IAAIwB,EAAgB,wBAA0B1B,EAAO,KAE/D,MAAMU,EAAQR,EAAEF,GAChB,GAAsB,iBAAX,GAA2D,SAApCU,EAAM6B,UAAUC,YAAYxC,KAC1D,MAAM,IAAI0B,EAAgB,eAAiB1B,EAAO,uCAAyC,EAAU,0BAEzG,OAAOU,EAEXuB,mBAAmB/B,EAAGF,GAClB,KAAMA,KAAQE,GACV,MAAM,IAAIwB,EAAgB,wBAA0B1B,EAAO,KAE/D,MAAMU,EAAQR,EAAEF,GAChB,GAAsB,kBAAX,EACP,MAAM,IAAI0B,EAAgB,eAAiB1B,EAAO,uCAAyC,EAAU,4BAEzG,OAAOU,KAQT,SAAUjB,EAAQD,GAExBC,EAAOD,QAAUiD,OAIX,SAAUhD,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQkD,QAAUlD,EAAQmD,YAAcnD,EAAQoD,UAAYpD,EAAQqD,UAAYrD,EAAQsD,OAAStD,EAAQuD,QAAUvD,EAAQwD,YAAS,EACpI,MAAMC,UAAuBjB,OAkB7B,SAASa,EAAU3B,GACf,IAAKgC,OAAOC,UAAUjC,GAClB,MAAM,IAAI+B,EAAe,2BAIjC,SAASL,EAAUQ,EAAMC,GAMrB,OALWC,MAAPD,IACAA,EAAM,GAEVR,EAAUO,GACVP,EAAUQ,GACHE,KAAKC,MAAMD,KAAKE,UAAYL,EAAOC,GAAOA,GAvBrD7D,EAAQwD,OALR,SAAgBU,EAAWxB,GACvB,IAAKwB,EACD,MAAM,IAAIT,EAAef,GAAW,qBAS5C1C,EAAQuD,QALR,SAAiBW,GACb,GAAiBJ,MAAbI,EACA,MAAM,IAAIT,EAAe,uBAOjCzD,EAAQsD,OAHR,SAAgB5B,GACZ,OAAOA,EAAIA,GAQf1B,EAAQqD,UAAYA,EASpBrD,EAAQoD,UAAYA,EAIpBpD,EAAQmD,YAHR,WACI,OAAOC,EAAU,EAAG,GAAKA,EAAU,EAAG,IAsB1CpD,EAAQkD,QAfR,SAAiBiB,GAIb,IAHA,IACIC,EAAgBC,EADhBC,EAAeH,EAAM5B,OAGlB,IAAM+B,GAETD,EAAcN,KAAKC,MAAMD,KAAKE,SAAWK,GAGzCF,EAAiBD,EAFjBG,GAAgB,GAGhBH,EAAMG,GAAgBH,EAAME,GAC5BF,EAAME,GAAeD,EAEzB,OAAOD,IAQL,SAAUlE,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQuE,SAAWvE,EAAQwE,SAAWxE,EAAQyE,SAAWzE,EAAQ0E,YAAc1E,EAAQ2E,eAAiB3E,EAAQ4E,aAAe5E,EAAQ6E,SAAM,EAC7I,MAAMC,EAAShF,EAAoB,GAC7BiF,EAAejF,EAAoB,GACzC,MAAMkF,EACFvC,YAAYwC,EAAGC,GACXrC,KAAKoC,EAAIA,EACTpC,KAAKqC,EAAIA,GAOjB,MAAML,EACFpC,eACAA,uBACI,OAAOoC,EAAIM,cAEf1C,oBACI,OAAOoC,EAAIO,QAEf3C,4BAA4BwC,EAAGC,GAC3B,MAAMG,EAAMtB,KAAKuB,MAAMJ,EAAIL,EAAIO,SAEzBG,EAAMN,GAAyB,IAApBJ,EAAIM,eAIfK,EAAOzB,KAAK0B,KAAKF,GACjBG,EAAO3B,KAAKC,MAAMuB,GAClBI,EAAKd,EAAIe,qBAAqBP,EAAKG,GAAMP,EACzCY,EAAKhB,EAAIe,qBAAqBP,EAAKK,GAAMT,EAC/C,OAAIlB,KAAK+B,IAAIb,EAAIU,GAAM5B,KAAK+B,IAAIb,EAAIY,GAEzB,IAAIpB,EAASe,EAAMH,GAGnB,IAAIZ,EAASiB,EAAML,GAGlC5C,gCAAgCwC,EAAGC,GAC/B,MAAMG,EAAMtB,KAAKuB,MAAMJ,EAAIL,EAAIO,SAEzBG,EAAMN,GAAyB,IAApBJ,EAAIM,eACfK,EAAOzB,KAAK0B,KAAKF,GACjBG,EAAO3B,KAAKC,MAAMuB,GAClBQ,EAAShC,KAAK+B,IAAKZ,EAAIL,EAAIO,QAAW,GAC5C,GAAIW,EAAS,KAAQA,EAAS,IAAM,CAEhC,MAAMC,EAAK,IAAIvB,EAASiB,EAAML,GACxBY,EAAK,IAAIxB,EAASe,EAAMH,GAC9B,OAAIW,EAAGE,WAAWD,GACP,CAACD,EAAIC,GAGL,GAGV,GAAKV,EAAM,EAAK,GAAMA,EAAM,EAAK,EAAI,EAAG,CAEzC,MAAMY,EAASpC,KAAKC,MAAMkB,EAAIL,EAAIO,SAC5BgB,EAAYrC,KAAK0B,KAAKP,EAAIL,EAAIO,SACpC,IAAIG,EAAMV,EAAIwB,qBAAqBpB,EAAGC,GAAGD,EACzC,MAAMe,EAAK,IAAIvB,EAASc,EAAKY,GACvBF,EAAK,IAAIxB,EAASc,EAAKa,GAC7B,OAAIJ,EAAGE,WAAWD,GACP,CAACD,EAAIC,GAGL,GAGf,MAAO,GAEXxD,4BAA4B4C,EAAKE,GAO7B,IAAIN,EAAIM,EAAMV,EAAIM,cAAgB,IAC9BpB,KAAK+B,IAAIT,EAAM,IAAMtB,KAAK+B,IAAIP,EAAM,KACpCN,GAA4B,GAApBJ,EAAIM,eAEhB,MAAMD,EAAIL,EAAIO,QAAUC,EACxB,OAAO,IAAIb,EAASS,EAAGC,GAE3BzC,mBAAmB4C,EAAKE,GACpB,OAAOV,EAAIe,qBAAqBP,EAAKE,GAAKe,aAE9C7D,sBAAsB4C,EAAKE,GAEvB,MAAMxD,EAAI8C,EAAIe,qBAAqBP,EAAKE,GAKxC,OAFAxD,EAAEkD,GAAKJ,EAAIM,cAAgB,EAC3BpD,EAAEmD,GAAKL,EAAIO,QACJrD,EAEXU,qBAAqB4C,EAAKE,GACtB,MAAO,CACH,IAAId,EAASc,EAAKF,GAClB,IAAIZ,EAASc,EAAM,EAAGF,GACtB,IAAIZ,EAASc,EAAM,EAAGF,EAAM,GAC5B,IAAIZ,EAASc,EAAM,EAAGF,EAAM,GAC5B,IAAIZ,EAASc,EAAKF,EAAM,GACxB,IAAIZ,EAASc,EAAKF,EAAM,IAGhC5C,eAAe4C,EAAKE,EAAKgB,GACrB,IAAIxE,EAAI8C,EAAI2B,YAAYnB,EAAKE,GAC7BgB,EAAIE,YACJF,EAAIG,OAAO3E,EAAEkD,EAAGlD,EAAEmD,GAMlBnD,EAAI8C,EAAI2B,YAAYnB,EAAKE,EAAM,GAC/BgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,EAAM,GACnCgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,EAAM,GACnCgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,GAC7BgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,GAC7BgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAKE,GACzBgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBqB,EAAIK,OAERnE,iBAAiB4C,EAAKE,EAAKgB,GACvB,IAAIxE,EAAI8C,EAAI2B,YAAYnB,EAAKE,GAC7BgB,EAAIE,YACJF,EAAIG,OAAO3E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAKE,EAAM,GAC/BgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,EAAM,GACnCgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,EAAM,GACnCgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,GAC7BgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAM,EAAGE,GAC7BgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBnD,EAAI8C,EAAI2B,YAAYnB,EAAKE,GACzBgB,EAAII,OAAO5E,EAAEkD,EAAGlD,EAAEmD,GAClBqB,EAAIM,SAERpE,oCAAoCV,GAChC,MAAM+D,EAAM/D,EAAE+E,aACRC,EAAmBhF,EAAEiF,aAAaF,aACxC,OAAO/C,KAAKkD,KAAKnC,EAAOxB,OAAOwC,EAAIb,EAAI8B,EAAiB9B,GAAKH,EAAOxB,OAAOwC,EAAIZ,EAAI6B,EAAiB7B,KAG5GlF,EAAQ6E,IAAMA,EACdA,EAAIM,cAAgB,GAQpBN,EAAIO,QAAUP,EAAIM,cAAgBpB,KAAKkD,KAAK,GAAK,EAEjDjH,EAAQ4E,aAAe,IAAII,EAAMkC,OAAOC,WAAa,EAA0B,EAAtBtC,EAAIuC,gBAAwCF,OAAOG,YAAc,EA7J/G,EA6JmHxC,EAAIyC,cAClItH,EAAQ2E,eAAiB,IAAIK,EAAMkC,OAAOC,WAAa,EAA0B,EAAtBtC,EAAIuC,gBAAwCF,OAAOG,YAAc,EA9JjH,EA8JqHxC,EAAIyC,cACpItH,EAAQ0E,YAAoC,EAAtBG,EAAIuC,gBAAyC,IACnE,MAAM3C,UAAiBO,EACnBvC,YAAY8C,EAAKF,GACbP,EAAOzB,UAAUkC,GACjBT,EAAOzB,UAAUgC,GACjB1C,MAAM4C,EAAKF,GAEf5C,gBAAgB8E,GACZxC,EAAa9C,WAAWuF,YAAYD,EAAM,YAC1C,MAAMlC,EAAMN,EAAa9C,WAAWwF,cAAcF,EAAM,OAClDhC,EAAMR,EAAa9C,WAAWwF,cAAcF,EAAM,OACxD,OAAO,IAAI9C,EAASc,EAAKF,GAE7B5C,qBACI,MAAO,CACHiF,SAAY,WACZrC,IAAOxC,KAAKqC,EACZK,IAAO1C,KAAKoC,GAGpBxC,aACI,OAAOoC,EAAIe,qBAAqB/C,KAAKqC,EAAGrC,KAAKoC,GAEjDxC,aACI,OAAOoC,EAAI2B,YAAY3D,KAAKqC,EAAGrC,KAAKoC,GAExCxC,WAAWkF,GACP,GAAIA,EAAM1C,GAAKpC,KAAKoC,GAAK0C,EAAMzC,GAAKrC,KAAKqC,EAAI,EACzC,OAAO,EAEX,GAAIyC,EAAM1C,GAAKpC,KAAKoC,GAAK0C,EAAMzC,GAAKrC,KAAKqC,EAAI,EACzC,OAAO,EAEX,GAAInB,KAAK+B,IAAIjD,KAAKoC,EAAI,IAAMlB,KAAK+B,IAAIjD,KAAKqC,EAAI,IAE1C,GAAIyC,EAAM1C,GAAKpC,KAAKoC,EAAI,GAAK0C,EAAMzC,GAAKrC,KAAKqC,EACzC,OAAO,OAKX,GAAIyC,EAAM1C,GAAKpC,KAAKoC,EAAI,GAAK0C,EAAMzC,GAAKrC,KAAKqC,EACzC,OAAO,EAGf,OAAO,EAEXzC,QAAQkF,GACJ,OAAQA,EAAM1C,GAAKpC,KAAKoC,GAAK0C,EAAMzC,GAAKrC,KAAKqC,GAGrDlF,EAAQyE,SAAWA,EACnB,MAAMD,UAAiBQ,EACnBvC,YAAYwC,EAAGC,GACXvC,MAAMsC,EAAGC,GAEbzC,aACI,OAAO,IAAI8B,EAAS1B,KAAKoC,EAAIjF,EAAQ4E,aAAaK,EAAGpC,KAAKqC,EAAIlF,EAAQ4E,aAAaM,GAEvFzC,aACI,OAAO,IAAI+B,EAAS3B,KAAKoC,EAAGpC,KAAKqC,GAErCzC,aACI,OAAOoC,EAAIwB,qBAAqBxD,KAAKoC,EAAGpC,KAAKqC,GAEjDzC,iBACI,OAAOoC,EAAI+C,yBAAyB/E,KAAKoC,EAAGpC,KAAKqC,IAGzDlF,EAAQwE,SAAWA,EACnB,MAAMD,UAAiBS,EACnBvC,YAAYwC,EAAGC,GACXvC,MAAMsC,EAAGC,GAEbzC,aACI,OAAO,IAAI8B,EAAS1B,KAAKoC,EAAGpC,KAAKqC,GAErCzC,aACI,OAAO,IAAI+B,EAAS3B,KAAKoC,EAAIjF,EAAQ4E,aAAaK,EAAGpC,KAAKqC,EAAIlF,EAAQ4E,aAAaM,GAEvFzC,aACI,MAAMV,EAAIc,KAAKiE,aACf,OAAOjC,EAAIwB,qBAAqBtE,EAAEkD,EAAGlD,EAAEmD,GAE3CzC,iBACI,MAAMV,EAAIc,KAAKiE,aACf,OAAOjC,EAAI+C,yBAAyB7F,EAAEkD,EAAGlD,EAAEmD,IAGnDlF,EAAQuE,SAAWA,GAKb,SAAUtE,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQ6H,YAAS,EACjB,MAAM/C,EAAShF,EAAoB,GAK7BiF,EAAejF,EAAoB,GACzC,MAAM+H,EACFpF,YAAYqF,EAAOtH,EAAMuH,GACrBlF,KAAKiF,MAAQA,EACbjF,KAAKrC,KAAOA,EACZqC,KAAKkF,MAAQA,EAEbjD,EAAOvB,QAAQuE,GACfhD,EAAOvB,QAAQ/C,GACfsE,EAAOvB,QAAQwE,GAEfF,EAAOG,WAAWD,GAASlF,KAE/BJ,wBAAwB8E,GACpBxC,EAAa9C,WAAWuF,YAAYD,EAAM,UAE1C,OADcxC,EAAa9C,WAAWgG,cAAcV,EAAM,WAC1CM,EAAOG,WAE3BvF,gBAAgB8E,EAAMW,GAClBnD,EAAa9C,WAAWuF,YAAYD,EAAM,UAC1C,MAAMQ,EAAQhD,EAAa9C,WAAWgG,cAAcV,EAAM,SAC1D,OAAIQ,KAASF,EAAOG,WAETH,EAAOG,WAAWD,GAEzBG,EACO,KAEJ,IAAIL,EAAO9C,EAAa9C,WAAWgG,cAAcV,EAAM,SAAUxC,EAAa9C,WAAWgG,cAAcV,EAAM,QAASQ,GAEjItF,uBACI,OAAOoF,EAAOG,WAQlBvF,WACI,OAAOI,KAAKiF,MAEhBrF,UACI,OAAOI,KAAKrC,KAEhBiC,WACI,OAAOI,KAAKkF,MAEhBtF,QAGAA,QACI0F,QAAQC,IAAIvF,OAOpB7C,EAAQ6H,OAASA,EAEjBA,EAAOG,WAAa,IAKd,SAAU/H,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQqI,gBAAa,EACrB,MAAMC,EAAUxI,EAAoB,GAC9BgF,EAAShF,EAAoB,GAC7ByI,EAAWzI,EAAoB,GAC/BiF,EAAejF,EAAoB,GACzC,MAAMuI,EACF5F,YAAY+F,EAAUC,GAClB5F,KAAK6F,SAAU,EACf7F,KAAKd,EAAIyG,EACT3F,KAAK4F,MAAQA,EAEb3D,EAAOvB,QAAQV,KAAK4F,OAGxBhG,cACI,OAAOI,KAAKd,EAEhBU,SACI,OAAOI,KAAK6F,QAEhBjG,UACI,GAAII,KAAK6F,QACL,KAAM,yBAEV7F,KAAK6F,SAAU,EAEnBjG,OAAOkG,GACH,SAAK9F,KAAKd,IAAM4G,IAGTA,EAAEC,QAAQ/F,KAAKd,GAU1BU,KAAK8D,GACD,IAAK1D,KAAKd,EACN,OAEJwE,EAAIsC,YAAc,QAClBtC,EAAIuC,UAAY,EAChBvC,EAAIwC,UAAYlG,KAAK4F,MAAMO,WAC3B,MAAMC,EAASpG,KAAKd,EAAEuE,aAEtB,GAAIzD,KAAK6F,QAAS,CACd,MAAMQ,EAAMZ,EAAQzD,IAAIuC,gBAAkB,IAAM,EAO1C+B,EAAQ,kBAAqBD,EACnC3C,EAAIE,YACJF,EAAIG,OAAOuC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAI,EAAIkE,EAAOF,EAAO/D,GACxCqB,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAI,EAAIkE,EAAOF,EAAO/D,GACxCqB,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAI6C,YACJ7C,EAAIK,OACJL,EAAIE,YACJF,EAAIG,OAAOuC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAI,EAAIkE,EAAOF,EAAO/D,GACxCqB,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAI,EAAIkE,EAAOF,EAAO/D,GACxCqB,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAI6C,YACJ7C,EAAIM,cAGJN,EAAIE,YACJF,EAAI8C,IAAIJ,EAAOhE,EAAGgE,EAAO/D,EAAGoD,EAAQzD,IAAIuC,gBAAkB,EAAG,EAAG,EAAIrD,KAAKuF,IACzE/C,EAAIM,SACJN,EAAIE,YACJF,EAAI8C,IAAIJ,EAAOhE,EAAGgE,EAAO/D,EAAGoD,EAAQzD,IAAIuC,gBAAkB,EAAI,EAAG,EAAG,EAAIrD,KAAKuF,IAC7E/C,EAAIK,OAGZnE,cAAc8G,EAAKhD,GACfA,EAAIsC,YAAc,QAClBtC,EAAIuC,UAAY,EAChBvC,EAAIE,YACJF,EAAI8C,IAAIE,EAAItE,EAAGsE,EAAIrE,EAAGoD,EAAQzD,IAAIuC,gBAAkB,EAAG,EAAG,EAAIrD,KAAKuF,IACnE/C,EAAIM,SAERpE,kBAAkBwG,EAAQ1C,GACtBA,EAAIsC,YAAc,QAClBtC,EAAIuC,UAAY,EAChB,MAAMI,EAAMZ,EAAQzD,IAAIuC,gBAAkB,EAAI,EACxC+B,EAAQpF,KAAKyF,IAAIzF,KAAKuF,GAAK,GAAKJ,EACtC3C,EAAIE,YACJF,EAAIG,OAAOuC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAI,EAAIkE,EAAOF,EAAO/D,GACxCqB,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAII,OAAOsC,EAAOhE,EAAI,EAAIkE,EAAOF,EAAO/D,GACxCqB,EAAII,OAAOsC,EAAOhE,EAAIkE,EAAOF,EAAO/D,EAAIgE,GACxC3C,EAAI6C,YACJ7C,EAAIM,SAERpE,gBAAgB8E,GACZ,MAAM/G,EAAOuE,EAAa9C,WAAWwH,QAAQlC,GAC7C,GAAY,cAAR/G,GAAgC,QAARA,EACxB,MAAM,IAAIuE,EAAa7C,gBAAgB,mBAAmB1B,mCAE9D,MAAMiI,EAAQF,EAASV,OAAO6B,SAAS3E,EAAa9C,WAAW0H,cAAcpC,EAAM,UAAU,GACvFqC,EAAM7E,EAAa9C,WAAW0H,cAAcpC,EAAM,YAClDsC,EAAW,EAAQvB,EAAQ7D,SAASiF,SAASE,GAAO,KAC1D,IAAKnB,EAED,MADAN,QAAQ2B,MAAMrB,GACRjG,MAAM,kBAEhB,MAAMR,EAAI,IAAIqG,EAAWwB,EAAUpB,GAInC,MAHY,QAARjI,IACAwB,EAAE0G,SAAU,GAET1G,GAGfhC,EAAQqI,WAAaA,GAKf,SAAUpI,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQ+J,UAAO,EACf,MAAMzB,EAAUxI,EAAoB,GAC9BgF,EAAShF,EAAoB,GAC7ByI,EAAWzI,EAAoB,GAC/BiF,EAAejF,EAAoB,GACzC,MAAMiK,EACFtH,YAAYuD,EAAIC,EAAIwC,GAChB5F,KAAKmD,GAAKA,EACVnD,KAAKoD,GAAKA,EACVpD,KAAK4F,MAAQA,EAGb3D,EAAOvB,QAAQkF,GAGnBhG,QAAQuD,EAAIC,GACR,SAAKD,GAAOC,GAAOpD,KAAKmD,IAAOnD,KAAKoD,SAGhCD,EAAG4C,QAAQ/F,KAAKmD,MAAOC,EAAG2C,QAAQ/F,KAAKoD,SAGvCD,EAAG4C,QAAQ/F,KAAKoD,MAAOA,EAAG2C,QAAQ/F,KAAKmD,MAK/CvD,WAAWV,GACP,SAAKA,GAAMc,KAAKmD,IAAOnD,KAAKoD,QAGxBlE,EAAE6G,QAAQ/F,KAAKmD,MAAOjE,EAAE6G,QAAQ/F,KAAKoD,KAK7CxD,KAAK8D,GACD,IAAK1D,KAAKmD,KAAOnD,KAAKoD,GAClB,OAEJM,EAAIsC,YAAc,QAClBtC,EAAIuC,UAAY,GAChBvC,EAAIE,YACJ,MAAMuD,EAAOnH,KAAKmD,GAAGM,aACf2D,EAAOpH,KAAKoD,GAAGK,aACrBC,EAAIG,OAAOsD,EAAK/E,EAAG+E,EAAK9E,GACxBqB,EAAII,OAAOsD,EAAKhF,EAAGgF,EAAK/E,GACxBqB,EAAIM,SACJN,EAAIsC,YAAchG,KAAK4F,MAAMO,WAC7BzC,EAAIuC,UAAY,GAChBvC,EAAIE,YACJF,EAAIG,OAAOsD,EAAK/E,EAAG+E,EAAK9E,GACxBqB,EAAII,OAAOsD,EAAKhF,EAAGgF,EAAK/E,GACxBqB,EAAIM,SAERpE,cAAcuH,EAAMC,EAAM1D,GACtBA,EAAIsC,YAAc,QAClBtC,EAAIuC,UAAY,GAChBvC,EAAIE,YACJF,EAAIG,OAAOsD,EAAK/E,EAAG+E,EAAK9E,GACxBqB,EAAII,OAAOsD,EAAKhF,EAAGgF,EAAK/E,GACxBqB,EAAIM,SAERpE,gBAAgB8E,GACCxC,EAAa9C,WAAWuF,YAAYD,EAAM,QAAvD,MACMkB,EAAQF,EAASV,OAAO6B,SAAS3E,EAAa9C,WAAW0H,cAAcpC,EAAM,UAAU,GAC7F,IAAIqC,EAAM7E,EAAa9C,WAAW0H,cAAcpC,EAAM,UACtD,MAAM2C,EAAS,EAAQ5B,EAAQ7D,SAASiF,SAASE,GAAO,KACxDA,EAAM7E,EAAa9C,WAAW0H,cAAcpC,EAAM,UAClD,MAAM4C,EAAS,EAAQ7B,EAAQ7D,SAASiF,SAASE,GAAO,KACxD,IAAKnB,EAED,MADAN,QAAQ2B,MAAMrB,GACRjG,MAAM,kBAGhB,OADU,IAAIuH,EAAKG,EAAQC,EAAQ1B,IAI3CzI,EAAQ+J,KAAOA,GAKT,SAAU9J,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtD,MAAM+B,EAAQnD,EAAoB,GAC5BsK,EAAWtK,EAAoB,GAC/BuK,EAAOvK,EAAoB,GACjCsK,EAASE,OAAOrH,EAAMsH,cAAcF,EAAKG,GAAI,MAAOC,SAASC,eAAe,UAKtE,SAAUzK,EAAQD,GAExBC,EAAOD,QAAUoK,UAIX,SAAUnK,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQwK,QAAK,EACb,MAAMvH,EAAQnD,EAAoB,GAC5B6K,EAAU7K,EAAoB,IAC9B8K,EAAY9K,EAAoB,IAChC+K,EAAe/K,EAAoB,IACnCgL,EAAShL,EAAoB,IAInC,MAAM0K,UAAWvH,EAAM8H,UACnBtI,YAAYuI,GACRrI,MAAMqI,GACN,MAAMC,EAAQJ,EAAaK,WAAWC,4BAA4BtI,KAAKuI,iBAAiB3J,KAAKoB,MAAOA,KAAKwI,cAAc5J,KAAKoB,OACxHoI,EACA9C,QAAQC,IAAI,2BAGZD,QAAQC,IAAI,2BAEhBvF,KAAKyI,MAAQ,CACTC,cAAe,EAbN,EADL,EAeJC,YAAY,EACZC,IAAK,KACLC,KAAM,GAAkB,MAE5B7I,KAAK8I,oBAAsB9I,KAAK8I,oBAAoBlK,KAAKoB,MAE7DJ,oBAAoB8E,GAChB1E,KAAK+I,SAAS,CACVH,IAAKlE,EACLgE,cAvBS,EAwBTC,YAAY,EACZE,KAAM,IAAIb,EAAaK,WAAW3D,EAAM1E,KAAKuI,iBAAiB3J,KAAKoB,MAAOA,KAAKwI,cAAc5J,KAAKoB,SAG1GJ,iBAAiBoJ,GACb1D,QAAQC,IAAI,iBACZvF,KAAK+I,SAAS,CACVL,cAhCI,EAiCJC,YAAY,IAGpB/I,cAAcoJ,GACVhJ,KAAK+I,SAAS,CACVL,cApCG,EAqCHC,YAAY,IAGpB/I,SACI,GA3CQ,GA2CJI,KAAKyI,MAAMC,cACX,OAAI1I,KAAKyI,MAAME,WACHvI,EAAMsH,cAAc,MAAO,KAC/BtH,EAAMsH,cAAcI,EAAQmB,UAAW,CAAEC,SAAUlJ,KAAK8I,sBACxD1I,EAAMsH,cAAc,MAAO,CAAEyB,GAAI,WAAYC,IAAK,kBAAmBC,IAAK,cAGtEjJ,EAAMsH,cAAc,MAAO,KAC/BtH,EAAMsH,cAAcI,EAAQmB,UAAW,CAAEC,SAAUlJ,KAAK8I,uBAG/D,GArDQ,GAqDJ9I,KAAKyI,MAAMC,cAChB,OAAQtI,EAAMsH,cAAc,MAAO,CAAE4B,UAAW,gBAAiBC,MAAO,CAAEC,MAAO,QAC7EpJ,EAAMsH,cAAc,IAAK,CAAE6B,MAAO,CAAEE,OAAQ,OAAQC,cAAe,QAASzE,MAAO,UAAa,iBAChG7E,EAAMsH,cAAcK,EAAU4B,QAAS,CAAEC,OAAO,KAEnD,GAzDE,GAyDE5J,KAAKyI,MAAMC,cAAyB,CACzC,IAAK1I,KAAKyI,MAAMI,KACZ,MAAMlJ,MAAM,yBAEhB,OAAQS,EAAMsH,cAAcO,EAAO4B,KAAM,CAAEhB,KAAM7I,KAAKyI,MAAMI,OAG5D,OAAOzI,EAAMsH,cAAc,IAAK,KAC5B,OACC1H,KAAKyI,MAAS,IAAIzI,KAAKyI,MAAMG,IAAIjL,KAAO,OAIzDR,EAAQwK,GAAKA,GAKP,SAAUvK,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQ8L,eAAY,EACpB,MAAM7I,EAAQnD,EAAoB,GAC5B6M,EAAa7M,EAAoB,IACvC,MAAMgM,UAAkB7I,EAAM8H,UAC1BtI,YAAYuI,GACRrI,MAAMqI,GACNnI,KAAKyI,MAAQ,CACT9K,KAAM,GACNoM,KAAM,GACNC,KAAM,GACN/E,MAAO,GACPgF,cAAc,GAElBjK,KAAKkK,aAAelK,KAAKkK,aAAatL,KAAKoB,MAC3CA,KAAKmK,aAAenK,KAAKmK,aAAavL,KAAKoB,MAE/CJ,aAAaqF,EAAO+D,GAChBhJ,KAAK+I,SAAS,CACV9D,MAAOA,EACPgF,cAAc,IAGtBrK,aAAawK,GACuB,QAA5BA,EAAMC,cAAc1M,KACpBqC,KAAK+I,SAAS,CAAEpL,KAAMyM,EAAMC,cAAchM,QAET,QAA5B+L,EAAMC,cAAc1M,KACzBqC,KAAK+I,SAAS,CAAEgB,KAAMK,EAAMC,cAAchM,QAET,QAA5B+L,EAAMC,cAAc1M,MACzBqC,KAAK+I,SAAS,CAAEiB,KAAMI,EAAMC,cAAchM,QAGlDuB,aAAawK,GACT,MAAMJ,EAAOM,SAAStK,KAAKyI,MAAMuB,MACV,IAAnBhK,KAAKyI,MAAM9K,MAAiC,IAAnBqC,KAAKyI,MAAMsB,MAAiC,OAAnBC,EAAKO,YAAuBP,EAAO,GAAyB,IAApBhK,KAAKyI,MAAMxD,QACrGK,QAAQC,IAAI,OAAQvF,KAAKyI,OACzBzI,KAAKmI,MAAMe,SAAS,CAChBvL,KAAMqC,KAAKyI,MAAM9K,KACjBoM,KAAM/J,KAAKyI,MAAMsB,KACjBC,KAAMA,EACN/E,MAAOjF,KAAKyI,MAAMxD,MAClBC,MAAO,QAGfkF,EAAMI,iBAEV5K,SACI,OAAQQ,EAAMsH,cAAc,MAAO,KAC/BtH,EAAMsH,cAAc,OAAQ,CAAEyB,GAAI,YAAaG,UAAW,gBAAiBmB,SAAUzK,KAAKmK,cACtF/J,EAAMsH,cAAc,QAAS,CAAEgD,UAAU,EAAM/M,KAAM,OAAQ4B,KAAM,OAAQoL,YAAa,OAAQtM,MAAO2B,KAAKyI,MAAM9K,KAAMiN,SAAU5K,KAAKkK,eACvI9J,EAAMsH,cAAc,QAAS,CAAEgD,UAAU,EAAM/M,KAAM,OAAQ4B,KAAM,OAAQoL,YAAa,WAAYtM,MAAO2B,KAAKyI,MAAMsB,KAAMa,SAAU5K,KAAKkK,eAC3I9J,EAAMsH,cAAc,QAAS,CAAEgD,UAAU,EAAM/M,KAAM,OAAQ4B,KAAM,SAAUoL,YAAa,OAAQtM,MAAO2B,KAAKyI,MAAMuB,KAAMY,SAAU5K,KAAKkK,eACzI9J,EAAMsH,cAAc,QAAS,CAAEgD,UAAU,EAAMG,UAAU,EAAMlN,KAAM,QAAS4B,KAAM,SAAUoL,YAAa,QAAStM,MAAO2B,KAAKyI,MAAMxD,MAAO6F,QAAS,KAAQ9K,KAAK+I,SAAS,CAAEkB,cAAc,OAC5L7J,EAAMsH,cAAc,SAAU,CAAE4B,UAAW,UAAY,cAC1DtJ,KAAKyI,MAAkB,aAAIrI,EAAMsH,cAAcoC,EAAWiB,SAAU,CAAEC,QAAShL,KAAKiL,aAAarM,KAAKoB,QAAW,OAG9H7C,EAAQ8L,UAAYA,GAKd,SAAU7L,EAAQD,EAASF,GAEjC,aAEAa,OAAOC,eAAeZ,EAAS,aAAc,CAAEkB,OAAO,IACtDlB,EAAQ4N,cAAW,EACnB,MAAM3K,EAAQnD,EAAoB,GAC5BiO,EAAS,IAAIC,IAAI,CACnB,CAAC,MAAO,CACA,cACA,SACA,aACA,aACA,YACA,UACA,YACA,MACA,YAER,CAAC,SAAU,CACH,QACA,SACA,YACA,OACA,SACA,eAER,CAAC,SAAU,CACH,cACA,eACA,uBACA,aACA,WACA,YACA,gBACA,QACA,YACA,WAER,CAAC,QAAS,CACF,YACA,aACA,YACA,OACA,cACA,QACA,YACA,cACA,cACA,cACA,oBACA,aACA,YACA,eACA,iBACA,WACA,QACA,iBACA,cAER,CAAC,OAAQ,CACD,YACA,OACA,OACA,aACA,mBACA,gBACA,YACA,kBACA,gBACA,gBACA,YACA,WACA,SAER,CAAC,OAAQ,CACD,aACA,YACA,eACA,UACA,cACA,iBACA,aACA,iBACA,YACA,YACA,OACA,aACA,WACA,OACA,eACA,kBACA,YACA,kBAER,CAAC,SAAU,CACH,WACA,UACA,OACA,SACA,SACA,UACA,UACA,eACA,eACA,aACA,aACA,aACA,cACA,SACA,WAER,CAAC,OAAQ,CACD,OACA,YACA,UACA,WACA,gBACA,oBAER,CAAC,QAAS,CACF,QACA,OACA,WACA,YACA,QACA,YACA,aACA,aACA,WACA,QACA,UACA,cACA,QACA,eACA,QACA,gBACA,cAER,CAAC,OAAQ,CACD,YACA,YACA,SACA,WACA,OACA,UACA,iBACA,YACA,gBACA,UAER,CAAC,QAAS,CA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\"}","code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=7)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.JsonParser=t.JsonParserError=t.JsonMessage=void 0,t.JsonMessage=function(e,t,n){return n.length>0?{type:e,content:t,args:n}:{type:e,content:t}};class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}t.JsonParserError=r;t.JsonParser=class{static askName(e){if(!(\"__name__\"in e))return\"\";const t=e.__name__;if(\"string\"!=typeof t)throw new r(\"Json field '__name__' is of the wrong type: got '\"+typeof t+\"' but expected 'string'\");return t}static askType(e){if(!(\"type\"in e))return\"\";const t=e.type;if(\"string\"!=typeof t)throw new r(\"Json field 'type' is of the wrong type: got '\"+typeof t+\"' but expected 'string'\");return t}static requireAny(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");return e[t]}static requireName(e,t){if(!(\"__name__\"in e))throw new r(\"Missing json field: '\"+name+\"'\");const n=e.__name__;if(\"string\"!=typeof n)throw new r(\"Json field '__name__' is of the wrong type: got '\"+typeof n+\"' but expected 'string'\");if(n!=t)throw new r(\"Json has incorrect object name, got '\"+n+\"' but expected '\"+t+\"'\")}static requireNumber(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"number\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'number'\");return n}static requireString(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"string\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'string'\");return n}static requireObject(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"object\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'object'\");return n}static requireArray(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"object\"!=typeof n||\"Array\"!=n.__proto__.constructor.name)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'Array'\");return n}static requireBool(e,t){if(!(t in e))throw new r(\"Missing json field: '\"+t+\"'\");const n=e[t];if(\"boolean\"!=typeof n)throw new r(\"Json field '\"+t+\"' is of the wrong type: got '\"+typeof n+\"' but expected 'boolean'\");return n}}},function(e,t){e.exports=React},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.shuffle=t.rollTwoDice=t.randomInt=t.assertInt=t.square=t.defined=t.assert=void 0;class r extends Error{}function o(e){if(!Number.isInteger(e))throw new r(\"TypeError: expected int\")}function s(e,t){return null==t&&(t=0),o(e),o(t),Math.floor(Math.random()*(e-t)+t)}t.assert=function(e,t){if(!e)throw new r(t||\"Assertion failed\")},t.defined=function(e){if(null==e)throw new r(\"Variable undefined\")},t.square=function(e){return e*e},t.assertInt=o,t.randomInt=s,t.rollTwoDice=function(){return s(7,1)+s(7,1)},t.shuffle=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.RelPoint=t.AbsPoint=t.HexPoint=t.maxDistance=t.centerOfScreen=t.currLocation=t.Hex=void 0;const r=n(2),o=n(0);class s{constructor(e,t){this.x=e,this.y=t}}class i{constructor(){}static getSideLength(){return i.sectionLength}static getApothem(){return i.apothem}static pxUnshiftedToHexGrid(e,t){const n=Math.round(t/i.apothem),r=e/(1.5*i.sectionLength),o=Math.ceil(r),s=Math.floor(r),l=i.hexGridToPxUnshifted(n,o).x,c=i.hexGridToPxUnshifted(n,s).x;return Math.abs(e-l)<Math.abs(e-c)?new a(o,n):new a(s,n)}static pxUnshiftedToDualHexGrid(e,t){const n=Math.round(t/i.apothem),r=e/(1.5*i.sectionLength),o=Math.ceil(r),s=Math.floor(r),l=Math.abs(t/i.apothem%1);if(l<.15||l>.85){const e=new a(s,n),t=new a(o,n);return e.isNeighbor(t)?[e,t]:[]}if(r%1>0&&r%1<1/3){const n=Math.floor(t/i.apothem),r=Math.ceil(t/i.apothem);let o=i.pxUnshiftedToHexGrid(e,t).x;const s=new a(o,n),l=new a(o,r);return s.isNeighbor(l)?[s,l]:[]}return[]}static hexGridToPxUnshifted(e,t){let n=t*i.sectionLength*1.5;Math.abs(e%2)==Math.abs(t%2)&&(n+=.5*i.sectionLength);const r=i.apothem*e;return new l(n,r)}static hexGridToPx(e,t){return i.hexGridToPxUnshifted(e,t).toRelPoint()}static getCenterOfHex(e,t){const n=i.hexGridToPxUnshifted(e,t);return n.x+=i.sectionLength/2,n.y+=i.apothem,n}static getHexCorners(e,t){return[new a(t,e),new a(t+1,e),new a(t+1,e+1),new a(t+1,e+2),new a(t,e+2),new a(t,e+1)]}static fillHex(e,t,n){let r=i.hexGridToPx(e,t);n.beginPath(),n.moveTo(r.x,r.y),r=i.hexGridToPx(e,t+1),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+1,t+1),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+2,t+1),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+2,t),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+1,t),n.lineTo(r.x,r.y),r=i.hexGridToPx(e,t),n.lineTo(r.x,r.y),n.fill()}static strokeHex(e,t,n){let r=i.hexGridToPx(e,t);n.beginPath(),n.moveTo(r.x,r.y),r=i.hexGridToPx(e,t+1),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+1,t+1),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+2,t+1),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+2,t),n.lineTo(r.x,r.y),r=i.hexGridToPx(e+1,t),n.lineTo(r.x,r.y),r=i.hexGridToPx(e,t),n.lineTo(r.x,r.y),n.stroke()}static distanceFromNearestHexCorner(e){const t=e.toAbsPoint(),n=e.toHexPoint().toAbsPoint();return Math.sqrt(r.square(t.x-n.x)+r.square(t.y-n.y))}}t.Hex=i,i.sectionLength=50,i.apothem=i.sectionLength*Math.sqrt(3)/2,t.currLocation=new s(window.innerWidth/2-4*i.getSideLength(),window.innerHeight/2-3*i.getApothem()),t.centerOfScreen=new s(window.innerWidth/2-4*i.getSideLength(),window.innerHeight/2-3*i.getApothem()),t.maxDistance=4*i.getSideLength()*1.5;class a extends s{constructor(e,t){r.assertInt(e),r.assertInt(t),super(e,t)}static fromJson(e){o.JsonParser.requireName(e,\"HexPoint\");const t=o.JsonParser.requireNumber(e,\"row\"),n=o.JsonParser.requireNumber(e,\"col\");return new a(n,t)}toJsonSerializable(){return{__name__:\"HexPoint\",row:this.y,col:this.x}}toAbsPoint(){return i.hexGridToPxUnshifted(this.y,this.x)}toRelPoint(){return i.hexGridToPx(this.y,this.x)}isNeighbor(e){if(e.x==this.x&&e.y==this.y+1)return!0;if(e.x==this.x&&e.y==this.y-1)return!0;if(Math.abs(this.x%2)==Math.abs(this.y%2)){if(e.x==this.x+1&&e.y==this.y)return!0}else if(e.x==this.x-1&&e.y==this.y)return!0;return!1}isEqual(e){return e.x==this.x&&e.y==this.y}}t.HexPoint=a;class l extends s{constructor(e,t){super(e,t)}toRelPoint(){return new c(this.x+t.currLocation.x,this.y+t.currLocation.y)}toAbsPoint(){return new l(this.x,this.y)}toHexPoint(){return i.pxUnshiftedToHexGrid(this.x,this.y)}toDualHexPoint(){return i.pxUnshiftedToDualHexGrid(this.x,this.y)}}t.AbsPoint=l;class c extends s{constructor(e,t){super(e,t)}toRelPoint(){return new c(this.x,this.y)}toAbsPoint(){return new l(this.x-t.currLocation.x,this.y-t.currLocation.y)}toHexPoint(){const e=this.toAbsPoint();return i.pxUnshiftedToHexGrid(e.x,e.y)}toDualHexPoint(){const e=this.toAbsPoint();return i.pxUnshiftedToDualHexGrid(e.x,e.y)}}t.RelPoint=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Player=void 0;const r=n(2),o=n(0);class s{constructor(e,t,n){this.color=e,this.name=t,this.token=n,r.defined(e),r.defined(t),r.defined(n),s.playerDict[n]=this}static doesPlayerExists(e){o.JsonParser.requireName(e,\"Player\");return o.JsonParser.requireString(e,\"token\")in s.playerDict}static fromJson(e,t){o.JsonParser.requireName(e,\"Player\");const n=o.JsonParser.requireString(e,\"token\");return n in s.playerDict?s.playerDict[n]:t?null:new s(o.JsonParser.requireString(e,\"color\"),o.JsonParser.requireString(e,\"name\"),n)}static getPlayerDict(){return s.playerDict}getColor(){return this.color}getName(){return this.name}getToken(){return this.token}draw(){}debug(){console.log(this)}}t.Player=s,s.playerDict={}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Settlement=void 0;const r=n(3),o=n(2),s=n(4),i=n(0);class a{constructor(e,t){this._isCity=!1,this.p=e,this.owner=t,o.defined(this.owner)}getHexPoint(){return this.p}isCity(){return this._isCity}upgrade(){if(this._isCity)throw\"This already is a city\";this._isCity=!0}isHere(e){return!(!this.p||!e)&&e.isEqual(this.p)}draw(e){if(!this.p)return;e.strokeStyle=\"black\",e.lineWidth=4,e.fillStyle=this.owner.getColor();const t=this.p.toRelPoint();if(this._isCity){const n=r.Hex.getSideLength()/3.5+2,o=.5773502691896257*n;e.beginPath(),e.moveTo(t.x+o,t.y-n),e.lineTo(t.x+2*o,t.y),e.lineTo(t.x+o,t.y+n),e.lineTo(t.x-o,t.y+n),e.lineTo(t.x-2*o,t.y),e.lineTo(t.x-o,t.y-n),e.closePath(),e.fill(),e.beginPath(),e.moveTo(t.x+o,t.y-n),e.lineTo(t.x+2*o,t.y),e.lineTo(t.x+o,t.y+n),e.lineTo(t.x-o,t.y+n),e.lineTo(t.x-2*o,t.y),e.lineTo(t.x-o,t.y-n),e.closePath(),e.stroke()}else e.beginPath(),e.arc(t.x,t.y,r.Hex.getSideLength()/4,0,2*Math.PI),e.stroke(),e.beginPath(),e.arc(t.x,t.y,r.Hex.getSideLength()/4-2,0,2*Math.PI),e.fill()}static stroke(e,t){t.strokeStyle=\"black\",t.lineWidth=4,t.beginPath(),t.arc(e.x,e.y,r.Hex.getSideLength()/4,0,2*Math.PI),t.stroke()}static strokeCity(e,t){t.strokeStyle=\"black\",t.lineWidth=4;const n=r.Hex.getSideLength()/3+2,o=Math.tan(Math.PI/6)*n;t.beginPath(),t.moveTo(e.x+o,e.y-n),t.lineTo(e.x+2*o,e.y),t.lineTo(e.x+o,e.y+n),t.lineTo(e.x-o,e.y+n),t.lineTo(e.x-2*o,e.y),t.lineTo(e.x-o,e.y-n),t.closePath(),t.stroke()}static fromJson(e){const t=i.JsonParser.askName(e);if(\"Settlement\"!=t&&\"City\"!=t)throw new i.JsonParserError(`Wrong name, got ${t} instead of Settlement or City`);const n=s.Player.fromJson(i.JsonParser.requireObject(e,\"owner\"),!0),o=i.JsonParser.requireObject(e,\"position\"),l=o?r.HexPoint.fromJson(o):null;if(!n)throw console.error(n),Error(\"Unknown player\");const c=new a(l,n);return\"City\"==t&&(c._isCity=!0),c}}t.Settlement=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Road=void 0;const r=n(3),o=n(2),s=n(4),i=n(0);class a{constructor(e,t,n){this.p1=e,this.p2=t,this.owner=n,o.defined(n)}isEqual(e,t){return!!(e&&t&&this.p1&&this.p2)&&(!(!e.isEqual(this.p1)||!t.isEqual(this.p2))||!(!e.isEqual(this.p2)||!t.isEqual(this.p1)))}isAdjacent(e){return!!(e&&this.p1&&this.p2)&&!(!e.isEqual(this.p1)&&!e.isEqual(this.p2))}draw(e){if(!this.p1||!this.p2)return;e.strokeStyle=\"black\",e.lineWidth=14,e.beginPath();const t=this.p1.toRelPoint(),n=this.p2.toRelPoint();e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke(),e.strokeStyle=this.owner.getColor(),e.lineWidth=10,e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.stroke()}static stroke(e,t,n){n.strokeStyle=\"black\",n.lineWidth=14,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke()}static fromJson(e){i.JsonParser.requireName(e,\"Road\");const t=s.Player.fromJson(i.JsonParser.requireObject(e,\"owner\"),!0);let n=i.JsonParser.requireObject(e,\"point1\");const o=n?r.HexPoint.fromJson(n):null;n=i.JsonParser.requireObject(e,\"point2\");const l=n?r.HexPoint.fromJson(n):null;if(!t)throw console.error(t),Error(\"Unknown player\");return new a(o,l,t)}}t.Road=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const r=n(1),o=n(8),s=n(9);o.render(r.createElement(s.UI,null),document.getElementById(\"root\"))},function(e,t){e.exports=ReactDOM},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.UI=void 0;const r=n(1),o=n(10),s=n(12),i=n(13),a=n(15);class l extends r.Component{constructor(e){super(e);const t=i.Connection.regainOldConnectionIfExists(this.onWebSockFailure.bind(this),this.onWebSockOpen.bind(this));t?console.log(\"regained old connection\"):console.log(\"no old connection found\"),this.state={progressState:t?1:0,failedConn:!1,dat:null,conn:t||null},this.loginSubmitCallback=this.loginSubmitCallback.bind(this)}loginSubmitCallback(e){this.setState({dat:e,progressState:1,failedConn:!1,conn:new i.Connection(e,this.onWebSockFailure.bind(this),this.onWebSockOpen.bind(this))})}onWebSockFailure(e){console.log(\"back to login\"),this.setState({progressState:0,failedConn:!0})}onWebSockOpen(e){this.setState({progressState:2,failedConn:!1})}render(){if(0==this.state.progressState)return this.state.failedConn?r.createElement(\"div\",null,r.createElement(o.LoginForm,{callback:this.loginSubmitCallback}),r.createElement(\"img\",{id:\"whoopsie\",src:\"whoopsie-01.png\",alt:\"whoopsie\"})):r.createElement(\"div\",null,r.createElement(o.LoginForm,{callback:this.loginSubmitCallback}));if(1==this.state.progressState)return r.createElement(\"div\",{className:\"window center\",style:{width:\"6em\"}},r.createElement(\"p\",{style:{margin:\"auto\",paddingBottom:\"0.5em\",color:\"white\"}},\"Connecting...\"),r.createElement(s.Spinner,{shown:!0}));if(2==this.state.progressState){if(!this.state.conn)throw Error(\"this shouldn't happen\");return r.createElement(a.Game,{conn:this.state.conn})}return r.createElement(\"p\",null,\"Hi, \",this.state.dat?this.state.dat.name:null)}}t.UI=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.LoginForm=void 0;const r=n(1),o=n(11);class s extends r.Component{constructor(e){super(e),this.state={name:\"\",host:\"\",port:\"\",color:\"\",pickingColor:!1},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}onColorClick(e,t){this.setState({color:e,pickingColor:!1})}handleChange(e){\"name\"==e.currentTarget.name?this.setState({name:e.currentTarget.value}):\"host\"==e.currentTarget.name?this.setState({host:e.currentTarget.value}):\"port\"==e.currentTarget.name&&this.setState({port:e.currentTarget.value})}handleSubmit(e){const t=parseInt(this.state.port);\"\"!=this.state.name&&\"\"!=this.state.host&&\"NaN\"!=t.toString()&&t>0&&\"\"!=this.state.color&&(console.log(\"yeet\",this.state),this.props.callback({name:this.state.name,host:this.state.host,port:t,color:this.state.color,token:null})),e.preventDefault()}render(){return r.createElement(\"div\",null,r.createElement(\"form\",{id:\"loginForm\",className:\"center window\",onSubmit:this.handleSubmit},r.createElement(\"input\",{required:!0,name:\"name\",type:\"text\",placeholder:\"Name\",value:this.state.name,onChange:this.handleChange}),r.createElement(\"input\",{required:!0,name:\"host\",type:\"text\",placeholder:\"Hostname\",value:this.state.host,onChange:this.handleChange}),r.createElement(\"input\",{required:!0,name:\"port\",type:\"number\",placeholder:\"Port\",value:this.state.port,onChange:this.handleChange}),r.createElement(\"input\",{required:!0,readOnly:!0,name:\"color\",type:\"string\",placeholder:\"Color\",value:this.state.color,onFocus:()=>{this.setState({pickingColor:!0})}}),r.createElement(\"button\",{className:\"button\"},\"Join Game\")),this.state.pickingColor?r.createElement(o.ColorBox,{onClick:this.onColorClick.bind(this)}):null)}}t.LoginForm=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ColorBox=void 0;const r=n(1),o=new Map([[\"red\",[\"lightsalmon\",\"salmon\",\"darksalmon\",\"lightcoral\",\"indianred\",\"crimson\",\"firebrick\",\"red\",\"darkred\"]],[\"orange\",[\"coral\",\"tomato\",\"orangered\",\"gold\",\"orange\",\"darkorange\"]],[\"yellow\",[\"lightyellow\",\"lemonchiffon\",\"lightgoldenrodyellow\",\"papayawhip\",\"moccasin\",\"peachpuff\",\"palegoldenrod\",\"khaki\",\"darkkhaki\",\"yellow\"]],[\"green\",[\"lawngreen\",\"chartreuse\",\"limegreen\",\"lime\",\"forestgreen\",\"green\",\"darkgreen\",\"greenyellow\",\"yellowgreen\",\"springgreen\",\"mediumspringgreen\",\"lightgreen\",\"palegreen\",\"darkseagreen\",\"mediumseagreen\",\"seagreen\",\"olive\",\"darkolivegreen\",\"olivedrab\"]],[\"cyan\",[\"lightcyan\",\"cyan\",\"aqua\",\"aquamarine\",\"mediumaquamarine\",\"paleturquoise\",\"turquoise\",\"mediumturquoise\",\"darkturquoise\",\"lightseagreen\",\"cadetblue\",\"darkcyan\",\"teal\"]],[\"blue\",[\"powderblue\",\"lightblue\",\"lightskyblue\",\"skyblue\",\"deepskyblue\",\"lightsteelblue\",\"dodgerblue\",\"cornflowerblue\",\"steelblue\",\"royalblue\",\"blue\",\"mediumblue\",\"darkblue\",\"navy\",\"midnightblue\",\"mediumslateblue\",\"slateblue\",\"darkslateblue\"]],[\"purple\",[\"lavender\",\"thistle\",\"plum\",\"violet\",\"orchid\",\"fuchsia\",\"magenta\",\"mediumorchid\",\"mediumpurple\",\"blueviolet\",\"darkviolet\",\"darkorchid\",\"darkmagenta\",\"purple\",\"indigo\"]],[\"pink\",[\"pink\",\"lightpink\",\"hotpink\",\"deeppink\",\"palevioletred\",\"mediumvioletred\"]],[\"white\",[\"white\",\"snow\",\"honeydew\",\"mintcream\",\"azure\",\"aliceblue\",\"ghostwhite\",\"whitesmoke\",\"seashell\",\"beige\",\"oldlace\",\"floralwhite\",\"ivory\",\"antiquewhite\",\"linen\",\"lavenderblush\",\"mistyrose\"]],[\"gray\",[\"gainsboro\",\"lightgray\",\"silver\",\"darkgray\",\"gray\",\"dimgray\",\"lightslategray\",\"slategray\",\"darkslategray\",\"black\"]],[\"brown\",[\"cornsilk\",\"blanchedalmond\",\"bisque\",\"navajowhite\",\"wheat\",\"burlywood\",\"tan\",\"rosybrown\",\"sandybrown\",\"goldenrod\",\"peru\",\"chocolate\",\"saddlebrown\",\"sienna\",\"brown\",\"maroon\"]]]);t.ColorBox=function(e){const t=[];for(const[n,s]of o.entries()){const o=t.length;t.push(r.createElement(\"div\",{style:{display:\"block\",width:\"30%\"},key:o},r.createElement(\"h3\",null,n),r.createElement(\"div\",{className:\"colorBoxSubBox\"},s.map((t,n)=>r.createElement(\"button\",{key:n,onClick:n=>e.onClick(t,n),style:{backgroundColor:t}})))))}return r.createElement(\"div\",{className:\"window colorBox center\"},r.createElement(\"div\",{className:\"colorBoxCollection\"},t))}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Spinner=void 0;const r=n(1);t.Spinner=function(e){return e.shown?r.createElement(\"div\",{className:\"loader\"}):r.createElement(\"div\",{className:\"loader\",style:{opacity:0}})}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Connection=void 0;const r=n(0),o=n(14);class s{constructor(e,t,n){if(\"NaN\"==e.port.toString())throw Error(\"yeet the port\");this.data={host:encodeURIComponent(e.host),name:encodeURIComponent(e.name),color:encodeURIComponent(e.color),port:e.port,token:e.token?e.token:null},this.onWebSockFailure=t,this.onWebSockOpen=n,this.connectedOnce=!1,this.failedAttempts=0,this.verifiedConnection=!1,this.jsonMessageHandler=e=>{throw Error(\"jsonMessageHandler not set\")},this.ws=null,this.connect()}static regainOldConnectionIfExists(e,t){const n=sessionStorage.getItem(\"connection\");if(n){const r=o.connectionDataFromJson(JSON.parse(n));return new s(r,e,t)}return null}getName(){return this.data.name}getUrl(){return null!=this.data.token?`ws://${this.data.host}:${this.data.port}/${this.data.name}/${this.data.token}/${this.data.color}`:`ws://${this.data.host}:${this.data.port}/${this.data.name}/${this.data.color}`}connect(){this.ws=new WebSocket(this.getUrl()),this.ws.onerror=this.onerror.bind(this),this.ws.onclose=this.onclose.bind(this),this.ws.onmessage=this.onmessage.bind(this),this.ws.onopen=this.onopen.bind(this),this.verifiedConnection=!1}onclose(e){if(console.log(\"WS closed\",e),this.verifiedConnection=!1,e.code>=4e3&&e.code<4100)console.log(\"Connection failed due to:\",e.reason),this.onWebSockFailure(e);else if(this.connectedOnce){if(this.failedAttempts>5)return;setTimeout(()=>{this.connect()},3e3)}}onerror(e){console.log(\"WS errored\",e),this.verifiedConnection=!1,this.failedAttempts+=1,this.connectedOnce||this.onWebSockFailure(e)}onmessage(e){if(\"Hello\"==e.data)console.log(\"Successful Echo, Server is alive!\"),this.verifiedConnection=!0;else try{const t=JSON.parse(e.data);if(\"token\"in t){const e=r.JsonParser.requireString(t,\"token\");return void(this.data.token||(console.log(\"Got token\",e),this.data.token=e,sessionStorage.setItem(\"connection\",JSON.stringify(this.data))))}this.jsonMessageHandler(t)}catch(e){if(\"SyntaxError\"!=e.name)throw console.log(\"Error:\",e),console.log(\"Error data:\",e.data),e;console.log(\"Got invalid JSON\")}}onopen(e){if(console.log(\"WS opened\",e),this.failedAttempts=0,this.onWebSockOpen(e),this.connectedOnce=!0,!this.ws)throw Error(\"this shouldn't happen\");this.ws.send(\"Hi\"),this.ws.send(\"history\")}setJsonMessageHandler(e){this.jsonMessageHandler=e}send(e){const t=JSON.stringify(e);this.ws?this.ws.send(t):console.log(\"Disconnected\")}sendMessage(e,t,n){this.send(r.JsonMessage(e,t,n))}getHistory(){this.ws?this.ws.send(\"history\"):console.log(\"Disconnected\")}}t.Connection=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.connectionDataFromJson=void 0;const r=n(0);t.connectionDataFromJson=function(e){return{name:r.JsonParser.requireString(e,\"name\"),host:r.JsonParser.requireString(e,\"host\"),port:r.JsonParser.requireNumber(e,\"port\"),token:r.JsonParser.requireString(e,\"token\"),color:r.JsonParser.requireString(e,\"color\")}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Game=void 0;const r=n(1),o=n(16),s=n(17),i=n(0),a=n(20),l=n(4),c=n(21),u=n(22),h=n(3),d=n(23),m=n(24);class f extends r.Component{constructor(e){super(e),e.conn.setJsonMessageHandler(this.onMessage.bind(this)),this.state={gm:new s.GameMap([],[],[]),gameStarted:!1,currNotification:null,currError:null,playerList:[],currentTurn:null,inventory:null,selectedLinePurchased:null,selectedPointPurchased:null}}onMessage(e){if(\"Game\"==i.JsonParser.askName(e)){this.props.conn.sendMessage(\"update\",\"inventory\",[]);const t=i.JsonParser.requireObject(e,\"gameMap\"),n=s.GameMap.fromJson(t),r=i.JsonParser.requireBool(e,\"gameStarted\"),o=this.state.playerList,a=i.JsonParser.requireArray(e,\"players\");for(const e of a)if(!l.Player.doesPlayerExists(e)){const t=l.Player.fromJson(e);if(!t)throw Error(\"This should not happen\");o.push(t.getName())}this.setState({gm:n,gameStarted:r,playerList:o})}else if(\"Turn\"==i.JsonParser.askName(e)){const t=c.Turn.fromJson(e);this.setState({currentTurn:t,currNotification:t.currentPlayer.getName()+\"'s turn\"}),t.dieValue&&this.state.gm.dieRolled(t.dieValue),console.log(t)}else if(\"Inventory\"==i.JsonParser.askName(e)||\"ExpandedInventory\"==i.JsonParser.askName(e))this.setState({inventory:d.Inventory.fromJson(e)});else if(\"notification\"==i.JsonParser.askType(e)){const t=i.JsonParser.requireString(e,\"content\");this.setState({currNotification:t}),setTimeout(()=>{this.state.currNotification==t&&this.setState({currNotification:null})},1e4)}else if(\"error\"==i.JsonParser.askType(e)){const t=i.JsonParser.requireString(e,\"content\");this.setState({currError:t})}}mouseHandler(e){const t=new h.RelPoint(e.clientX,e.clientY),n=h.Hex.distanceFromNearestHexCorner(t);if(null!=this.state.selectedPointPurchased){if(n<h.Hex.getSideLength()/4){const e=t.toHexPoint();console.log(\"new settlement\"),this.props.conn.send({type:\"action\",content:\"placeSettlement\",args:[e.toJsonSerializable(),this.state.selectedPointPurchased]}),this.setState({selectedPointPurchased:null})}}else if(null!=this.state.selectedLinePurchased){const e=t.toDualHexPoint();if(2==e.length){const[t,n]=e;console.log(\"new road\"),this.props.conn.send({type:\"action\",content:\"placeRoad\",args:[t.toJsonSerializable(),n.toJsonSerializable(),this.state.selectedLinePurchased]}),this.setState({selectedLinePurchased:null})}}}onClickPurchasedPoint(e,t){this.setState({selectedLinePurchased:null,selectedPointPurchased:e})}onClickPurchasedLine(e,t){this.setState({selectedLinePurchased:e,selectedPointPurchased:null})}render(){const e=this.state.gameStarted?\"Game running\":\"Game hasn't started yet\",t=null==this.state.currNotification?e:this.state.currNotification;return r.createElement(\"div\",null,this.state.currError?r.createElement(u.Popup,{msg:this.state.currError,callBack:()=>{this.setState({currError:null})}}):null,r.createElement(a.StatusBar,{msg:t},this.state.gameStarted?null:r.createElement(\"button\",{className:\"button\",onClick:()=>{this.props.conn.send({debug:\"startGame\"})}},\"Start Game\"),this.state.currentTurn&&this.state.currentTurn.currentPlayer.getName()==this.props.conn.getName()?r.createElement(\"button\",{className:\"button\",onClick:()=>{this.props.conn.send({type:\"action\",content:\"nextTurn\"})}},\"End Turn\"):null,this.state.currentTurn&&this.state.currentTurn.dieValue?r.createElement(\"p\",null,\"Die Roll: \"+this.state.currentTurn.dieValue):null),r.createElement(m.InventoryDisplay,{inv:this.state.inventory,onClickPurchasedLine:this.onClickPurchasedLine.bind(this),onClickPurchasedPoint:this.onClickPurchasedPoint.bind(this)}),r.createElement(a.PlayerList,{names:this.state.playerList,currentPlayer:this.state.currentTurn?this.state.currentTurn.currentPlayer.getName():null}),r.createElement(o.Canvas,{gm:this.state.gm,onClick:this.mouseHandler.bind(this),mayPlaceRoad:null!=this.state.selectedLinePurchased,mayPlaceSettlement:null!=this.state.selectedPointPurchased}))}}t.Game=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Canvas=void 0;const r=n(1),o=n(3),s=n(5),i=n(6);class a extends r.Component{constructor(e){super(e),this.canvasRef=r.createRef(),this.state={highlightFunc:null}}componentDidMount(){const e=this.canvasRef.current;if(!e)throw Error(\"this shouldn't happen, canvasRef not set\");this.makeHiDPICanvas(e),this.componentDidUpdate()}componentDidUpdate(){const e=this.canvasRef.current;if(!e)throw Error(\"this shouldn't happen, canvasRef not set\");const t=e.getContext(\"2d\");if(!t)throw Error(\"getContext('2d') failed\");t.fillStyle=\"#8395c1\",t.fillRect(0,0,window.innerWidth,window.innerHeight),this.props.gm.draw(t),this.state.highlightFunc&&this.state.highlightFunc(t)}render(){return r.createElement(\"canvas\",{ref:this.canvasRef,width:window.innerWidth,height:window.innerHeight,onClick:this.props.onClick,onMouseMove:this.mouseHoverHandler.bind(this)})}makeHiDPICanvas(e){const t=window.innerWidth,n=window.innerHeight,r=function(){const t=e.getContext(\"2d\");if(null==t)throw\"CanvasRenderingContext2D is null\";return t}(),o=window.devicePixelRatio||1;return e.width=t*o,e.height=n*o,e.style.width=t+\"px\",e.style.height=n+\"px\",r.setTransform(o,0,0,o,0,0),e}mouseHoverHandler(e){const t=new o.RelPoint(e.clientX,e.clientY),n=o.Hex.distanceFromNearestHexCorner(t);if(this.props.mayPlaceSettlement){const e=t.toHexPoint().toRelPoint();n<o.Hex.getSideLength()/4?this.setState({highlightFunc:t=>{s.Settlement.stroke(e,t)}}):this.state.highlightFunc&&this.setState({highlightFunc:null})}else if(this.props.mayPlaceRoad){const e=t.toDualHexPoint();if(2==e.length){const[t,n]=e;this.setState({highlightFunc:e=>{i.Road.stroke(t.toRelPoint(),n.toRelPoint(),e)}})}else this.state.highlightFunc&&this.setState({highlightFunc:null})}else this.state.highlightFunc&&this.setState({highlightFunc:null})}}t.Canvas=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.GameMap=void 0;const r=n(18),o=n(5),s=n(6),i=n(0),a=n(2);class l{constructor(e,t,n){this.tilesArr=e,this.settlementsArr=t,this.roadsArr=n}static fromJson(e){i.JsonParser.requireName(e,\"GameMap\");let t=i.JsonParser.requireArray(e,\"tiles\");const n=[];for(const e of t)n.push(r.Tile.fromJson(e));t=i.JsonParser.requireArray(e,\"points\");const a=[];for(const e of t)a.push(o.Settlement.fromJson(e));t=i.JsonParser.requireArray(e,\"lines\");const c=[];for(const e of t)c.push(s.Road.fromJson(e));return new l(n,a,c)}getTiles(){return this.tilesArr}getSettlements(){return this.settlementsArr}getRoads(){return this.roadsArr}draw(e){e.strokeStyle=\"black\",e.lineWidth=1,this.tilesArr.forEach(t=>{t.draw(e)}),this.tilesArr.forEach(t=>{t.draw2(e)}),this.roadsArr.forEach(t=>{t.draw(e)}),this.settlementsArr.forEach(t=>{t.draw(e)})}dieRolled(e){a.assertInt(e),this.tilesArr.forEach(t=>{t.activateIfDiceValueMatchesElseDeactivate(e)})}}t.GameMap=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Tile=void 0;const r=n(19),o=n(2),s=n(3),i=n(0);class a{constructor(e,t,n){this.active=!1,this.isDisabledByRobber=!1,this.diceValue=n,this.landType=t,this.p=e,this.center=s.Hex.getCenterOfHex(e.y,e.x),o.defined(this.diceValue),o.defined(this.landType),o.defined(this.p),o.defined(this.center)}static fromJson(e){i.JsonParser.requireName(e,\"Tile\");const t=i.JsonParser.requireNumber(e,\"diceValue\"),n=s.HexPoint.fromJson(i.JsonParser.requireObject(e,\"location\")),o=r.getBiomeByName(i.JsonParser.requireString(e,\"biome\"));return new a(n,o,t)}activateIfDiceValueMatchesElseDeactivate(e){o.assertInt(e),e!=this.diceValue||this.isDisabledByRobber?this.active=!1:this.active=!0}highlightIfActive(e){this.active&&!this.isDisabledByRobber&&(e.strokeStyle=\"white\",e.lineWidth=4,s.Hex.strokeHex(this.p.y,this.p.x,e))}draw(e){e.fillStyle=this.landType.getColor(),s.Hex.fillHex(this.p.y,this.p.x,e);const t=this.center.toRelPoint();this.landType!=r.Desert&&(e.font=\"20px Arial\",e.textAlign=\"center\",e.textBaseline=\"middle\",e.fillStyle=\"black\",e.fillText(this.diceValue.toString(),t.x,t.y)),e.strokeStyle=\"black\",e.lineWidth=1,s.Hex.strokeHex(this.p.y,this.p.x,e)}draw2(e){this.isDisabledByRobber&&this.strokeRobber(e),this.highlightIfActive(e)}strokeRobber(e){const t=this.center.toRelPoint(),n=s.Hex.getSideLength()/3.5+2,r=.5773502691896257*n;e.strokeStyle=\"red\",e.lineWidth=5,e.beginPath(),e.moveTo(t.x+r,t.y-n),e.lineTo(t.x+2*r,t.y),e.lineTo(t.x+r,t.y+n),e.lineTo(t.x-r,t.y+n),e.lineTo(t.x-2*r,t.y),e.lineTo(t.x-r,t.y-n),e.closePath(),e.stroke()}isInside(e){const t=Math.abs(e.x-this.center.x),n=Math.abs(e.y-this.center.y),r=s.Hex.getApothem(),o=s.Hex.getSideLength()/2;return!(t>2*o||n>r)&&2*r*o-r*t-2*o*n>=0}}t.Tile=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getBiomeByName=t.biomes=t.Quarry=t.Farmland=t.Mountain=t.Forest=t.Grassland=t.Desert=t.Biome=void 0;const r=n(2);class o{constructor(e){this.color=e}getColor(){return r.defined(this.color),this.color}}t.Biome=o,t.Desert=new class extends o{constructor(){super(\"yellow\")}},t.Grassland=new class extends o{constructor(){super(\"limegreen\")}},t.Forest=new class extends o{constructor(){super(\"forestgreen\")}},t.Mountain=new class extends o{constructor(){super(\"dimgray\")}},t.Farmland=new class extends o{constructor(){super(\"goldenrod\")}},t.Quarry=new class extends o{constructor(){super(\"firebrick\")}},t.biomes=[t.Desert,t.Grassland,t.Forest,t.Mountain,t.Farmland,t.Quarry],t.getBiomeByName=function(e){switch(e){case\"desert\":return t.Desert;case\"grassland\":return t.Grassland;case\"forest\":return t.Forest;case\"mountain\":return t.Mountain;case\"farmland\":return t.Farmland;case\"quarry\":return t.Quarry;default:throw new Error(\"KeyError: Could not find biome named '\"+e+\"'\")}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PlayerList=t.StatusBar=void 0;const r=n(1);t.StatusBar=function(e){return r.createElement(\"div\",{className:\"window statusBar\",style:{textAlign:\"center\"}},e.children,r.createElement(\"div\",null,e.msg))},t.PlayerList=function(e){return r.createElement(\"div\",{className:\"window playerList\"},r.createElement(\"h3\",null,\"Players:\"),e.names.map((t,n)=>t==e.currentPlayer?r.createElement(\"p\",{key:n},r.createElement(\"i\",{className:\"fas fa-arrow-alt-circle-right\"}),\" \",t):r.createElement(\"p\",{key:n},t)))}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Turn=void 0;const r=n(2),o=n(0),s=n(4);class i{constructor(e,t,n){this.roundNum=e,this.currentPlayer=t,this.dieValue=n,r.defined(this.roundNum),r.defined(this.currentPlayer),r.assertInt(this.roundNum),this.dieValue&&r.assertInt(this.dieValue)}static fromJson(e){const t=o.JsonParser.requireObject(e,\"currentPlayer\"),n=s.Player.fromJson(t,!0),r=o.JsonParser.requireAny(e,\"dieValue\")?o.JsonParser.requireNumber(e,\"dieValue\"):null;if(n)return new i(o.JsonParser.requireNumber(e,\"roundNum\"),n,r);throw console.error(t),Error(\"Unknown player!\")}}t.Turn=i},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Popup=void 0;const r=n(1);t.Popup=function(e){return r.createElement(\"div\",{className:\"popup center window\"},r.createElement(\"p\",null,e.msg),r.createElement(\"button\",{className:\"button\",onClick:e.callBack},\"OK\"))}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Inventory=void 0;const r=n(2),o=n(0),s=n(5),i=n(6);class a{constructor(){this.content=new Map,this.pointFeatures=[],this.lineFeatures=[]}keys(){return this.content.keys()}get(e){const t=this.content.get(e);return r.defined(t),t}getPointFeatures(){return this.pointFeatures.slice()}getLineFeatures(){return this.lineFeatures.slice()}static fromJson(e){const t=o.JsonParser.askName(e);if(\"ExpandedInventory\"!=t&&\"Inventory\"!=t)throw new o.JsonParserError(`Wrong name, got ${t} instead of ExpandedInventory or Inventory`);const n=new a,l=o.JsonParser.requireObject(e,\"inventory\");for(const e in l){const t=o.JsonParser.requireNumber(l,e);r.assertInt(t),n.content.set(e,t)}if(\"ExpandedInventory\"==t){const t=o.JsonParser.requireArray(e,\"pointFeatures\");for(const e of t)n.pointFeatures.push(s.Settlement.fromJson(e));const r=o.JsonParser.requireArray(e,\"lineFeatures\");for(const e of r)n.lineFeatures.push(i.Road.fromJson(e))}return n}}t.Inventory=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.InventoryDisplay=void 0;const r=n(1);t.InventoryDisplay=function(e){if(!e.inv)return r.createElement(\"div\",{className:\"window inventory\"},\"Inventory\");const t=[];for(const n of e.inv.keys())\"NoResource\"!=n&&t.push(`${n}: ${e.inv.get(n)}`);const n=e.inv.getLineFeatures().length>0||e.inv.getPointFeatures().length>0;return r.createElement(\"div\",null,r.createElement(\"div\",{className:\"window inventory\"},t.join(\"; \")),n?r.createElement(\"div\",{className:\"window inventory2\"},r.createElement(\"h3\",null,\"Purchased:\"),r.createElement(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",marginBottom:\"0.5em\"}},e.inv.getPointFeatures().map((t,n)=>r.createElement(\"button\",{key:n,onClick:t=>e.onClickPurchasedPoint(n,t)},t.isCity()?r.createElement(\"i\",{className:\"fas fa-city\"}):r.createElement(\"i\",{className:\"fas fa-home\"})))),r.createElement(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\"}},e.inv.getLineFeatures().map((t,n)=>r.createElement(\"button\",{key:n,onClick:t=>e.onClickPurchasedLine(n,t)},r.createElement(\"i\",{className:\"fas fa-road\"}))))):null)}}]);","extractedComments":[]}